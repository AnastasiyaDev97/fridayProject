"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[321],{1964:function(e,n,t){t.d(n,{w:function(){return s}});var r=t(2791),i=t(4299),a=t(4456),u=t(7931),s=function(e){var n=e.isLoading,t=e.isSuccess,s=e.isError,o=(0,a.TL)();(0,r.useEffect)((function(){n&&o((0,u.Wf)({status:i.Q.LOADING})),t&&o((0,u.Wf)({status:i.Q.SUCCEEDED})),s&&(o((0,u.Wf)({status:i.Q.FAILED})),o((0,u.K8)({errorText:"Something went wrong"})))}),[o,n,t,s])}},321:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(9439),i=t(2791),a="Profile_title__AcshT",u="Profile_wrapper__mhQMa",s=t(5992),o=t(9056),c=t(4338),f=t.n(c),l=t(9802).e.injectEndpoints({endpoints:function(e){return{updateProfile:e.mutation({query:function(e){return{url:new(f())("auth/me").toString(),method:"PUT",body:e}}})}},overrideExisting:!1}).useUpdateProfileMutation,d=t(1964),p=t(4456),m=t(7931),C=t(184),h=function(){var e=(0,p.TL)(),n=l(),t=(0,r.Z)(n,2),c=t[0],f=t[1],h=f.data,E=f.isError,P=f.isLoading,g=f.isSuccess,v=(0,p.CG)((function(e){return e.profile.email})),_=(0,p.CG)((function(e){return e.profile.avatar})),k=(0,p.CG)((function(e){return e.profile.name})),w=(0,p.CG)((function(e){return e.profile.publicCardPacksCount})),b=(0,i.useMemo)((function(){return{email:v,avatar:_,name:k,publicCardPacksCount:w}}),[v,_,k,w]),x=(0,i.useCallback)((function(e){e!==_&&c({avatar:e})}),[c,_]),L=(0,i.useCallback)((function(e){e!==k&&c({name:e})}),[c,k]);return(0,i.useEffect)((function(){h&&e((0,m._J)(h.updatedUser))}),[h,e]),(0,d.w)({isLoading:P,isSuccess:g,isError:E}),b?(0,C.jsxs)("div",{className:u,children:[(0,C.jsx)("h2",{className:a,children:"Profile Page"}),(0,C.jsx)(o.PP,{profileData:b,nameChildren:(0,C.jsx)(o.m1,{title:k,updateTitle:L}),avatarChildren:(0,C.jsx)(o.S2,{updateImage:x,image:_||s})})]}):null}}}]);
//# sourceMappingURL=321.87553ec3.chunk.js.map