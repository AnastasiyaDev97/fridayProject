(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports={wrapper:"Login_wrapper__1QeDt",form:"Login_form__2Xo5h",inputsWrapper:"Login_inputsWrapper__2Vk9k",row:"Login_row__2Oh6t",registrationBtns:"Login_registrationBtns__1dEYv",submitBtn:"Login_submitBtn__2jSaA",registerLink:"Login_registerLink__3lZqv",sendMailBlock:"Login_sendMailBlock__2O_Nv",sendMailBtn:"Login_sendMailBtn__2MyM-",sendMailMessage:"Login_sendMailMessage__3Tqvp"}},119:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),s=n(43),o=n.n(s),i=(n(91),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))}),u=n(4),l=n(56),d=n(74),p=n(5),b="loading",j="succeeded",O="failed",f={status:"idle",isInitialized:!1,error:null},m=function(e){return{type:"APP/SET-STATUS",payload:{status:e}}},h=function(e){return{type:"APP/SET-ERROR",payload:{error:e}}},x={isLoggedIn:!1},v=function(e){return{type:"LOGIN/TOGGLE-IS-AUTH",payload:{isLoggedIn:e}}},_={registerStatus:!1},k=function(e){return{type:"SET-REGISTER-STATUS",payload:{registerStatus:e}}},C="",g={avatar:"https://lh3.googleusercontent.com/DQj-gonAVTlhj5W7_DhBVmX-0P42rfvx8TSp1WfQeZ6iFIon6InIS8M4Nbqy7Ql5ahgEXSiRDiWD88v-bcPYIEAg3Q=w640-h400-e365-rj-sc0x00ffffff",created:C,email:C,isAdmin:!1,name:C,publicCardPacksCount:0,rememberMe:!1,token:C,tokenDeathTime:0,updated:C,verified:!1,__v:0,_id:C},S=function(e){return{type:"SET-PROFILE",payload:{profile:e}}},P={responseInfoForgotPass:C,responseInfoNewPass:C,emailForRecovery:null},N=function(e){return{type:"SET-RESPONSE-INFO-FORGOT-PASS",payload:{responseInfoForgotPass:e}}},w=function(e){return{type:"ADD-EMAIL",payload:{emailForRecovery:e}}},E={page:1,maxCardsCount:0,minCardsCount:0,pageCount:0,min:0,max:100,sortPacks:"0updated",packName:C,user_id:null},y=function(e){return{type:"PACKS/TOGGLE-SHOW-USER-PACKS",payload:{user_id:e}}},A=n(15),T={cards:[{answer:C,question:C,cardsPack_id:C,grade:0,shots:0,user_id:C,created:C,updated:C,_id:C}],cardsTotalCount:0,maxGrade:0,minGrade:0,page:1,pageCount:0,packUserId:C,sortCards:"0updated"},R=function(e,t,n){return{type:"CARDS/SET-CARDS-RATING",_id:e,payload:{grade:t,shots:n}}};!function(e){e.Delete="delete",e.Add="add",e.Update="update",e.Learn="learn",e.Empty_Action=""}(a||(a={})),function(e){e.Card="card",e.Pack="pack",e.Empty_Entity=""}(r||(r={}));var I={modalAction:a.Empty_Action,modalEntity:r.Empty_Entity,id:""},L=function(e,t){return{type:"MODAL/SET-MODAL-TYPE",payload:{modalAction:e,modalEntity:t}}},D=Object(l.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":case"APP/SET-ERROR":return Object(p.a)(Object(p.a)({},e),t.payload);case"APP/INITIALIZE":return Object(p.a)(Object(p.a)({},e),{},{isInitialized:!0});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/TOGGLE-IS-AUTH":return Object(p.a)(Object(p.a)({},e),t.payload);default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-REGISTER-STATUS":return Object(p.a)(Object(p.a)({},e),t.payload);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PROFILE":return Object(p.a)(Object(p.a)({},e),t.payload.profile);default:return e}},passRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-RESPONSE-INFO-FORGOT-PASS":case"SET-RESPONSE-INFO-NEW-PASS":case"ADD-EMAIL":return Object(p.a)(Object(p.a)({},e),t.payload);default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/CHANGE-SEARCH-PACK-NAME":case"PACKS/SET-PACKS":case"PACKS/CHANGE-PAGE":case"SET-RESPONSE-INFO-NEW-PASS":case"PACKS/TOGGLE-SHOW-USER-PACKS":case"PACKS/SET-NEW-MIN-MAX-VALUE":case"PACKS/SET-SORTING-FILTER":return Object(p.a)(Object(p.a)({},e),t.payload);default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/SET-CARDS":case"CARDS/CHANGE-PAGE":case"CARDS/SET-SORTING-FILTER":return Object(p.a)(Object(p.a)({},e),t.payload);case"CARDS/SET-CARDS-RATING":return Object(p.a)(Object(p.a)({},e),{},{cards:Object(A.a)(e.cards.map((function(e){return e._id===t._id?Object(p.a)(Object(p.a)({},e),t.payload):e})))});default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL/SET-MODAL-TYPE":case"MODAL/SET-MODAL-PROPS":return Object(p.a)(Object(p.a)({},e),t.payload);default:return e}}}),M=Object(l.c)(D,Object(l.a)(d.a));window.store=M;var B,F=n(16),W=n(27),U=n(28),G=n(48),K=n.n(G),H=n(1),V=Object(c.memo)((function(e){var t=e.red,n=e.className,a=Object(U.a)(e,["red","className"]),r="".concat(K.a.btn," ").concat(t?K.a.red:K.a.default," ").concat(n);return Object(H.jsx)("button",Object(p.a)({className:r},a))})),q=n(9),z=n(11),Q=n.n(z),Z=n(6),Y=n(38),X=n.n(Y),J=n(49),$=n.n(J),ee=Object(c.memo)((function(e){var t=e.type,n=e.onChange,a=e.onChangeText,r=e.onKeyPress,c=e.onEnter,s=e.error,o=e.className,i=Object(U.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className"]),l=Object(u.b)(),d="".concat($.a.input," ").concat(s?$.a.errorInput:$.a.superInput," ").concat(o," ");return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("input",Object(p.a)({type:t,onChange:function(e){n&&n(e),a&&a(e.currentTarget.value),l(h(null))},onKeyPress:function(e){r&&r(e),c&&"Enter"===e.key&&c()},className:d},i))})}));!function(e){e.PASSWORD="password",e.TEXT="text"}(B||(B={}));var te,ne,ae,re,ce=Object(c.memo)((function(e){var t=e.validationErr,n=e.formikProps,a=e.type,r=e.isPassword,s=Object(c.useState)(!1),o=Object(Z.a)(s,2),i=o[0],u=o[1],l=!i&&a?B.PASSWORD:B.TEXT;return Object(H.jsxs)("div",{className:X.a.inputWrapper,children:[Object(H.jsx)(ee,Object(p.a)(Object(p.a)({className:X.a.input,placeholder:n.name},n),{},{type:l})),r&&Object(H.jsx)("span",{className:X.a.togglePassBtn,onClick:function(){u(!i)}}),Object(H.jsx)("div",{className:X.a.error,children:t})]})})),se=n(8),oe=n.n(se),ie=n(13),ue=n(77),le=n.n(ue).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),de=function(e,t){return le.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},pe=function(e){return le.post("auth/login",e).then((function(e){return e.data}))},be=function(){return le.delete("auth/me").then((function(e){return e.data}))},je=function(){return le.post("auth/me").then((function(e){return e.data}))},Oe=function(e){var t={email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\npassword recovery link: <a href='http://nastyaz23.github.io/fridayProject/#/new-password/$token$'\x3c!--https://nastyaz23.github.io/fridayProject/#new-password/$token$--\x3e'>\nlink</a></div>"};return le.post("auth/forgot",t).then((function(e){return e.data}))},fe=function(e){return le.post("auth/set-new-password",e).then((function(e){return e.data}))},me=function(e,t){e(h(t.response?t.response.data.error:t)),e(m(O))};!function(e){e.PROFILE="/profile",e.REGISTRATION="/registration",e.NOT_FOUND="/404",e.FORGOT_PASSWORD="/forgot-password",e.NEW_PASSWORD="/new-password",e.CARDS="/cards",e.PACKS="/packs",e.LOGIN="/login",e.START="/"}(te||(te={})),function(e){e.REMEMBER_ME="rememberMe",e.EMAIL="email",e.PASSWORD="password",e.NAME="name",e.CONFIRM_PASSWORD="confirmPassword"}(ne||(ne={})),function(e){e.SUBMIT="submit",e.BUTTON="button"}(ae||(ae={})),function(e){e.INVALID_EMAIL="Invalid email address",e.REQUIRED="Required",e.SHORT_PASSWORD="Password must be 8 characters long",e.NEED_NUMBER="Invalid password. Must contain one number",e.NOT_MATCHED="Password not matched"}(re||(re={}));var he,xe=/(?=.*[0-9])/,ve=function(e,t){e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email=re.INVALID_EMAIL):t.email=re.REQUIRED},_e=function(e,t){e.password?e.password.length<8?t.password=re.SHORT_PASSWORD:xe.test(e.password)||(t.password=re.NEED_NUMBER):t.password=re.REQUIRED},ke=function(e,t){ve(e,t),_e(e,t),function(e,t){e.confirmPassword||(t.confirmPassword=re.REQUIRED),e.password&&e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword=re.NOT_MATCHED)}(e,t)},Ce=function(){var e=Object(u.b)(),t=Object(q.g)(),n=Object(u.c)((function(e){return e.register.registerStatus})),a=Object(W.a)({initialValues:{email:C,password:C,confirmPassword:C},validate:function(e){var t={};return ke(e,t),t},onSubmit:function(t){var n,r;e((n=t.email,r=t.password,function(){var e=Object(ie.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m(b)),e.next=4,de(n,r);case 4:t(k(!0)),t(m(j)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),me(t,e.t0),t(k(!1));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),a.resetForm()}});Object(c.useEffect)((function(){return function(){e(k(!1))}}));var r=Object(c.useCallback)((function(){a.resetForm(),t(te.LOGIN)}),[a,t]);return n?Object(H.jsx)(q.a,{to:te.LOGIN}):Object(H.jsxs)("div",{className:Q.a.wrapper,children:[Object(H.jsx)("h2",{children:"Sign up"}),Object(H.jsxs)("form",{onSubmit:a.handleSubmit,className:Q.a.form,children:[Object(H.jsxs)("div",{className:Q.a.inputsWrapper,children:[Object(H.jsx)(ce,{validationErr:a.touched.email&&a.errors.email||C,formikProps:a.getFieldProps(ne.EMAIL)}),Object(H.jsx)(ce,{validationErr:a.touched.password&&a.errors.password||C,formikProps:a.getFieldProps(ne.PASSWORD),type:B.PASSWORD,isPassword:!0}),Object(H.jsx)(ce,{validationErr:a.touched.confirmPassword&&a.errors.confirmPassword||C,formikProps:a.getFieldProps(ne.CONFIRM_PASSWORD),type:B.PASSWORD,isPassword:!0})]}),Object(H.jsx)("div",{className:Q.a.row,children:Object(H.jsxs)("div",{className:Q.a.registrationBtns,children:[Object(H.jsx)(V,{type:ae.BUTTON,onClick:r,children:"Cancel"}),Object(H.jsx)(V,{type:ae.SUBMIT,children:"Register"})]})})]})]})},ge=n(50),Se=n.n(ge),Pe=function(){return Object(H.jsx)("div",{className:Se.a.notFoundBackgr,children:Object(H.jsxs)("div",{className:Se.a.notFoundBlock,children:[Object(H.jsx)("h2",{children:"Not Found \ud83d\ude14"}),Object(H.jsx)(V,{children:Object(H.jsx)(F.b,{to:te.PROFILE,className:Se.a.link,children:"Go Back"})})]})})},Ne=function(){var e=Object(u.b)(),t=Object(q.g)(),n=Object(u.c)((function(e){return e.passRecovery.emailForRecovery})),a=Object(u.c)((function(e){return e.passRecovery.responseInfoForgotPass})),r=Object(W.a)({initialValues:{email:C},validate:function(e){var t={};return function(e,t){ve(e,t)}(e,t),t},onSubmit:function(t){var n;e((n=t.email,function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m(b)),e.next=4,Oe(n);case 4:a=e.sent,t(w(n)),a.info&&t(N(a.info)),t(m(j)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),me(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),r.resetForm()}}),s=Object(c.useCallback)((function(){e(N(C)),e(w(C)),t(te.LOGIN)}),[e,t]);return Object(H.jsx)("div",{className:Q.a.wrapper,children:a?Object(H.jsxs)("div",{className:Q.a.sendMailBlock,children:[Object(H.jsx)("h2",{children:"Check email"}),Object(H.jsxs)("div",{className:Q.a.sendMailMessage,children:["We've sent an Email with instructions to ",n]}),Object(H.jsx)(V,{className:Q.a.sendMailBtn,type:ae.BUTTON,onClick:s,children:"Ok"})]}):Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("h2",{children:"Forgot your password?"}),Object(H.jsxs)("form",{className:Q.a.form,onSubmit:function(e){r.handleSubmit(e)},children:[Object(H.jsx)("div",{className:Q.a.inputsWrapper,children:Object(H.jsx)(ce,{validationErr:r.touched.email&&r.errors.email||C,formikProps:r.getFieldProps("email")})}),Object(H.jsx)("div",{children:"Enter your email address and we will send you further instructions"}),Object(H.jsx)(V,{className:Q.a.submitBtn,type:ae.SUBMIT,children:"Send instructions"})]}),Object(H.jsx)("div",{children:"Do you remember your password?"}),Object(H.jsx)(F.b,{className:Q.a.registerLink,to:te.LOGIN,children:"Try logging in"})]})})},we=function(){var e=Object(u.b)(),t=Object(q.h)().token,n=Object(u.c)((function(e){return e.passRecovery.responseInfoNewPass})),a=Object(W.a)({initialValues:{password:C},validate:function(e){var t={};return function(e,t){_e(e,t)}(e,t),t},onSubmit:function(n){var r,c={password:n.password,resetPasswordToken:t||C};e((r=c,function(){var e=Object(ie.a)(oe.a.mark((function e(t){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m(b)),e.next=5,fe(r);case 5:(n=e.sent).info&&t({type:"SET-RESPONSE-INFO-NEW-PASS",payload:{responseInfoNewPass:n.info}}),t(m(j)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),me(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),a.resetForm()}});return n?Object(H.jsx)(q.a,{to:te.LOGIN}):Object(H.jsxs)("div",{className:Q.a.wrapper,children:[Object(H.jsx)("h2",{children:"Create new password"}),Object(H.jsxs)("form",{className:Q.a.form,onSubmit:function(e){a.handleSubmit(e)},children:[Object(H.jsx)("div",{className:Q.a.inputsWrapper,children:Object(H.jsx)(ce,{validationErr:a.touched.password&&a.errors.password||C,formikProps:a.getFieldProps(ne.PASSWORD),type:B.PASSWORD,isPassword:!0})}),Object(H.jsx)(V,{className:Q.a.submitBtn,type:ae.SUBMIT,children:"Create new password"})]})]})},Ee=n(51),ye=n.n(Ee),Ae=n(60),Te=n.n(Ae),Re=function(){var e=function(e){return e.isActive?"".concat(Te.a.active):C},t=[{navlinkPath:te.PROFILE,title:"Profile"},{navlinkPath:te.PACKS,title:"Packs List"}];return Object(H.jsx)("div",{className:Te.a.navBarContainer,children:t.map((function(t){var n=t.navlinkPath,a=t.title;return Object(H.jsx)(F.b,{to:n,className:e,children:a},a)}))})},Ie=Object(c.memo)((function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.login.isLoggedIn}));return Object(H.jsx)("div",{className:ye.a.headerBlock,children:Object(H.jsxs)("div",{className:ye.a.container,children:[Object(H.jsx)("h2",{children:"CardsApp"}),t&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Re,{}),Object(H.jsx)("span",{className:ye.a.logout,onClick:function(){e(function(){var e=Object(ie.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m(b)),e.next=4,be();case 4:t(m(j)),t(v(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),me(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})]})})})),Le=n(52),De=n.n(Le),Me=n.p+"static/media/oval.c2cdedba.svg",Be=n(78),Fe=n.n(Be),We=function(){return Object(H.jsx)("img",{src:Me,alt:"waiting...",className:Fe.a.loading})},Ue=n(53),Ge=n.n(Ue),Ke=n(39),He=n.n(Ke),Ve=Object(c.memo)((function(e){for(var t=e.totalItemCount,n=e.pageCount,a=e.currentPage,r=e.onChangePageClick,s=e.portionSize,o=Object(c.useState)(1),i=Object(Z.a)(o,2),u=i[0],l=i[1],d=Math.ceil(t/n),p=Math.ceil(d/s),b=(u-1)*s+1,j=u*s,O={padding:"5px",margin:"0 5px",fontWeight:"bold"},f=u>1,m=[],h=1;h<=d;h++)m.push(h);var x=Object(c.useCallback)((function(){l(u+1)}),[u]),v=Object(c.useCallback)((function(){l(u-1)}),[u]);return Object(H.jsxs)("div",{className:He.a.paginator,children:[f&&Object(H.jsx)(V,{style:O,onClick:v,children:"\u2190"}),m.filter((function(e){return e>=b&&e<=j})).map((function(e){var t=e===a?"".concat(He.a.pageNum," ").concat(He.a.activePage):He.a.pageNum;return Object(H.jsx)("span",{className:t,onClick:function(){r(e)},children:e},e)})),p>u&&Object(H.jsx)(V,{style:O,onClick:x,children:"\u2192"})]})})),qe=function(e){var t=new Date(e);return"".concat(ze(t.getDate()),".").concat(ze(t.getMonth()+1),".").concat(t.getFullYear())},ze=function(e){return 1===e.toString().length?"0".concat(e):e},Qe=n(30),Ze=n.n(Qe);!function(e){e.PACKS="packs",e.CARDS="cards"}(he||(he={}));var Ye=Object(c.memo)((function(e){var t=e.item,n=e.component,a=e.onDeleteButtonClick,r=e.onUpdateButtonClick,c=e.onLearnPackClick,s=Object(q.g)(),o=Object(u.c)((function(e){return e.profile._id})),i=t.user_id!==o;return Object(H.jsxs)("tr",{onClick:function(){(t.cardsCount>0||t.user_id===o)&&s("/cards/".concat(t._id))},children:[Object.entries(t).map((function(e,t){var n=Object(Z.a)(e,2),a=n[0],r=n[1];if("user_id"!==a&&"_id"!==a)return Object(H.jsx)("td",{children:Object(H.jsx)("div",{className:Ze.a.cell,children:r})},t)})),Object(H.jsxs)("td",{className:Ze.a.btns,children:[Object(H.jsx)(V,{disabled:i,onClick:function(e){e.stopPropagation(),a(t._id)},children:"Delete"}),Object(H.jsx)(V,{disabled:i,onClick:function(e){e.stopPropagation(),r(t._id)},children:"Edit"}),n===he.PACKS&&Object(H.jsx)(V,{onClick:function(e){e.stopPropagation(),c(t._id)},disabled:0===t.cardsCount,children:"Learn"})]})]})})),Xe=Object(c.memo)((function(e){var t=e.rows,n=e.headers,a=e.onSetSortingClick,r=e.component,c=e.onDeleteButtonClick,s=e.onUpdateButtonClick,o=e.onLearnPackClick,i=Object.entries(n);return Object(H.jsxs)("table",{className:Ze.a.table,children:[Object(H.jsx)("thead",{children:Object(H.jsx)("tr",{children:i.map((function(e,t){var n=Object(Z.a)(e,2),r=n[0],c=n[1],s="actions"!==r?Ze.a.value:C;return Object(H.jsx)("th",{onClick:function(){a(r)},className:Ze.a.tableHeader,children:Object(H.jsx)("span",{className:s,children:c})},t)}))})}),Object(H.jsx)("tbody",{children:t.map((function(e){return Object(H.jsx)(Ye,{item:e,component:r,onDeleteButtonClick:c,onUpdateButtonClick:s,onLearnPackClick:o},e._id)}))})]})})),Je=n(10),$e=n(35),et=n.n($e),tt=Object(c.memo)((function(e){var t=e.children,n=e.modalBody,r=e.onCloseModalButtonClick,c=e.modalAction,s=e.onNextCardButtonClick,o=e.isActivePrevBtn,i=a.Learn,u=c===i&&!o;return n?Object(H.jsx)("div",{className:et.a.modalWrapper,children:Object(H.jsxs)("div",{className:et.a.modalBlock,children:[Object(H.jsx)("h3",{children:n.title}),t,Object(H.jsxs)("div",{className:et.a.buttons,children:[Object(H.jsx)(V,{onClick:n.btn.callback,className:et.a.btn,disabled:u,children:n.btn.title}),c===i&&Object(H.jsx)(V,{onClick:s,children:"Next"}),Object(H.jsx)(V,{onClick:r,className:et.a.btn,children:"Cancel"})]})]})}):null})),nt=n(33),at=n.n(nt),rt=n(36),ct=n.n(rt),st=function(e){return le.get("cards/card",{params:e}).then((function(e){return e.data}))},ot=function(e){return le.post("cards/card",e).then((function(e){return e.data}))},it=function(e){return le.delete("cards/card/?id=".concat(e)).then((function(e){return e.data}))},ut=function(e){return le.put("cards/card",e).then((function(e){return e.data}))},lt=function(e,t){return le.put("cards/grade",{grade:e,card_id:t}).then((function(e){return e.data.updatedGrade}))},dt=function(e){return function(){var t=Object(ie.a)(oe.a.mark((function t(n){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(m(b)),t.next=4,st(e);case 4:a=t.sent,n({type:"CARDS/SET-CARDS",payload:a}),n(m(j)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),me(n,t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},pt=Object(c.memo)((function(e){var t=e.answer,n=e.activeCardId,a=e.onNextCardButtonClick,r=Object(u.b)(),s=Object(c.useState)(!1),o=Object(Z.a)(s,2),i=o[0],l=o[1],d=i?"Hide":"Show",p=Object(c.useCallback)((function(){l(!i)}),[i]),O=Object(c.useCallback)((function(e){var t,c;r((t=e,c=n,function(){var e=Object(ie.a)(oe.a.mark((function e(n){var a,r,s,o;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(m(b)),e.next=4,lt(t,c);case 4:a=e.sent,r=a._id,s=a.grade,o=a.shots,n(R(r,s,o)),n(m(j)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),me(n,e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())),a()}),[r,n,a]),f=[{name:"I know",callback:function(){return O(5)}},{name:"I know part of the answer",callback:function(){return O(4)}},{name:"Maybe I know",callback:function(){return O(3)}},{name:"I'm not sure",callback:function(){return O(2)}},{name:"I don't know",callback:function(){return O(1)}}];return Object(H.jsxs)("div",{className:ct.a.learnPackModalWrapper,children:[Object(H.jsxs)("div",{className:ct.a.answerBlock,children:["Answer",Object(H.jsx)(V,{onClick:p,className:ct.a.btn,children:d}),i&&Object(H.jsx)("span",{className:ct.a.answer,children:t})]}),Object(H.jsx)("div",{className:ct.a.buttonsBlock,children:f.map((function(e,t){var n=e.name,a=e.callback;return Object(H.jsx)(V,{onClick:a,children:n},t)}))})]})})),bt=function(e){return le.get("cards/pack",{params:e}).then((function(e){return e.data}))},jt=function(e){return le.post("cards/pack",e).then((function(e){return e.data}))},Ot=function(e){return le.delete("cards/pack/?id=".concat(e)).then((function(e){return e.data}))},ft=function(e){return le.put("cards/pack",e).then((function(e){return e.data}))},mt=function(){return function(){var e=Object(ie.a)(oe.a.mark((function e(t,n){var a,r,c,s,o,i,u,l,d;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().packs,r=a.min,c=a.max,s=a.page,o=a.user_id,i=a.sortPacks,u=a.packName,l={min:r,max:c,sortPacks:i,page:s,pageCount:10,user_id:o,packName:u},e.prev=2,e.next=5,bt(l);case 5:d=e.sent,t(m(b)),t({type:"PACKS/SET-PACKS",payload:d}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),me(t,e.t0);case 13:return e.prev=13,t(m(j)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}()},ht=Object(c.memo)((function(e){var t=e.modalAction,n=e.modalEntity;return t!==a.Delete?null:Object(H.jsxs)("span",{className:at.a.span,children:["Do you really want to remove this `",n,"`?",Object(H.jsx)("br",{}),"All cards will be excluded from this course"]})})),xt=Object(c.memo)((function(e){var t,n=e.pack,s=Object(u.b)(),o=Object(q.h)().id,i=Object(u.c)((function(e){return e.modals.id})),l=Object(u.c)((function(e){return e.cards.cards})),d=Object(u.c)((function(e){return e.modals.modalAction})),j=Object(u.c)((function(e){return e.modals.modalEntity})),O=l.find((function(e){return e._id===i})),f=r.Card,h=r.Pack,x=r.Empty_Entity,v=a.Delete,_=a.Add,k=a.Update,g=a.Learn,S=a.Empty_Action,P=O?O.question:C,N=O?O.answer:C,w=n?n.name:C,E=Object(c.useState)(w),y=Object(Z.a)(E,2),T=y[0],R=y[1],I=Object(c.useState)(P),D=Object(Z.a)(I,2),M=D[0],B=D[1],F=Object(c.useState)(N),W=Object(Z.a)(F,2),G=W[0],K=W[1],V=Object(c.useState)(0),z=Object(Z.a)(V,2),Q=z[0],Y=z[1],X=Object(c.useState)(!0),J=Object(Z.a)(X,2),$=J[0],te=J[1],ne=Object(c.useState)([]),ae=Object(Z.a)(ne,2),re=ae[0],ce=ae[1],se=Object(c.useState)(l[0]),ue=Object(Z.a)(se,2),le=ue[0],de=ue[1],pe=le?le.question:C,be=le?le.answer:C,je=le?le._id:C,Oe=re.length-1,fe=re.length>0&&Q<Oe;Object(c.useEffect)((function(){0===Q&&te(!1)}),[Q]);var he,xe=Object(c.useCallback)((function(){s(L(S,x))}),[s,x,S]),ve=Object(c.useCallback)((function(){s(function(e){return function(){var t=Object(ie.a)(oe.a.mark((function t(n){var a;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={name:e},n(m(b)),t.next=5,jt({cardsPack:a});case 5:return t.next=7,n(mt());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),me(n,t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(T)),xe()}),[s,T,xe]),_e=Object(c.useCallback)((function(){s(function(e,t,n){return function(){var a=Object(ie.a)(oe.a.mark((function a(r){var c;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c={cardsPack_id:e,question:t,answer:n},r(m(b)),a.next=5,ot({card:c});case 5:return a.next=7,r(dt({cardsPack_id:e}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),me(r,a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(i,M,G)),xe()}),[s,i,M,G,xe]),ke=Object(c.useCallback)((function(){var e;s((e=i,function(){var t=Object(ie.a)(oe.a.mark((function t(n){return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(m(b)),t.next=4,Ot(e);case 4:return t.next=6,n(mt());case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),me(n,t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),xe()}),[s,i,xe]),Ce=Object(c.useCallback)((function(){o&&s(function(e,t){return function(){var n=Object(ie.a)(oe.a.mark((function n(a){return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(m(b)),n.next=4,it(t);case 4:return n.next=6,a(dt({cardsPack_id:e}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),me(a,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(o,i)),xe()}),[s,o,i,xe]),ge=Object(c.useCallback)((function(){var e,t;s((e=i,t=T,function(){var n=Object(ie.a)(oe.a.mark((function n(a){var r;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r={_id:e,name:t},a(m(b)),n.next=5,ft({cardsPack:r});case 5:return n.next=7,a(mt());case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),me(a,n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}())),xe()}),[s,i,T,xe]),Se=Object(c.useCallback)((function(){o&&s(function(e,t){var n=t._id,a=Object(U.a)(t,["_id"]);return function(){var t=Object(ie.a)(oe.a.mark((function t(r){var c;return oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Object(p.a)({_id:n},a),r(m(b)),t.next=5,ut({card:c});case 5:return t.next=7,r(dt({cardsPack_id:e}));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),me(r,t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(o,{_id:i,question:M,answer:G})),xe()}),[s,o,i,M,G,xe]),Pe=Object(c.useCallback)((function(){$||te(!0);var e=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),n=Math.random()*t,a=e.reduce((function(e,t,a){var r=e.sum+(6-t.grade)*(6-t.grade);return{sum:r,id:r<n?a:e.id}}),{sum:0,id:-1});return console.log("test: ",t,n,a),e[a.id+1]}(l);de(e),ce([e].concat(Object(A.a)(re)))}),[l,$,re]),Ne=Object(c.useCallback)((function(){if(fe)return de(re[Q]),void Y(Q+1);te(!1)}),[le,Q,re,fe]),we=(t={},Object(Je.a)(t,_,{title:"Add new ".concat(j),btn:{title:"Save",callback:j===f?_e:ve}}),Object(Je.a)(t,v,{title:"Delete ".concat(j),btn:{title:"Delete",callback:j===h?ke:Ce}}),Object(Je.a)(t,k,{title:"Update ".concat(j),btn:{title:"Update",callback:j===h?ge:Se}}),Object(Je.a)(t,g,{title:" ".concat(pe),btn:{title:"Prev",callback:Ne}}),t);d===_&&(he=we.add),d===v&&(he=we.delete),d===k&&(he=we.update),d===g&&(he=we.learn);var Ee=j===f&&d!==v,ye=j===h&&(d===_||d===k);return Object(H.jsxs)(tt,{modalBody:he,onCloseModalButtonClick:xe,onNextCardButtonClick:Pe,modalAction:d,isActivePrevBtn:$,children:[Object(H.jsx)(ht,{modalAction:d,modalEntity:j}),ye&&Object(H.jsx)(ee,{className:at.a.input,value:T,onChangeText:R,placeholder:"Title"}),Ee&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ee,{className:at.a.input,value:M,onChangeText:B,placeholder:"Your question"}),Object(H.jsx)(ee,{className:at.a.input,value:G,onChangeText:K,placeholder:"Your answer"})]}),d===g&&Object(H.jsx)(pt,{answer:be,activeCardId:je,onNextCardButtonClick:Pe})]})})),vt=Object(c.memo)((function(e){for(var t=e.grade,n=[],a=0;a<5;a++)n=[].concat(Object(A.a)(n),[Object(H.jsx)(_t,{selected:t>a})]);return Object(H.jsx)("div",{children:n})})),_t=Object(c.memo)((function(e){var t=e.selected;return Object(H.jsx)("span",{children:t?Object(H.jsx)("b",{children:"Star "}):"Star "})})),kt=Object(c.memo)((function(e){var t=e.setModalData,n=Object(u.b)(),r=Object(q.h)().id,s=Object(q.g)(),o=Object(u.c)((function(e){return e.cards.cards})),i=Object(u.c)((function(e){return e.cards.sortCards})),l=Object(u.c)((function(e){return e.cards.cardsTotalCount})),d=Object(u.c)((function(e){return e.cards.pageCount})),p=Object(u.c)((function(e){return e.cards.page})),j=Object(u.c)((function(e){return e.modals.modalEntity})),O=a.Add,f=a.Delete,h=a.Update,x=Object(c.useMemo)((function(){return o.map((function(e){var t=e.question,n=e.answer,a=e.updated,r=e.grade,c=e._id,s=e.user_id;return{question:t,answer:n,updated:a=qe(a),rating:Object(H.jsx)(vt,{grade:r}),_id:c,user_id:s}}))}),[o]);Object(c.useEffect)((function(){n(m(b));var e=setTimeout((function(){r&&n(dt({cardsPack_id:r,page:p,sortCards:i}))}),1e3);return function(){clearTimeout(e)}}),[n,p,i]);var v=Object(c.useCallback)((function(e){n(function(e){return{type:"CARDS/SET-SORTING-FILTER",payload:{sortCards:e}}}("0"===i[0]?"1".concat(e):"0".concat(e)))}),[n,i]),_=Object(c.useCallback)((function(e){n(function(e){return{type:"CARDS/CHANGE-PAGE",payload:{page:e}}}(e))}),[n]),k=Object(c.useCallback)((function(){r&&t(O,r)}),[t,r,O]),C=Object(c.useCallback)((function(e){t(f,e)}),[t,f]),g=Object(c.useCallback)((function(e){t(h,e)}),[t,h]);return o?Object(H.jsxs)("div",{className:Ge.a.wrapper,children:[Object(H.jsx)("h2",{onClick:function(){s(-1)},className:Ge.a.cursor,children:"\u2190 Pack Name"}),Object(H.jsx)(V,{onClick:k,className:Ge.a.btn,children:"Add new card"}),j&&Object(H.jsx)(xt,{}),Object(H.jsx)(Xe,{rows:x,headers:{question:"Question",answer:"Answer",updated:"Last updated",grade:"Grade",actions:"Actions"},onSetSortingClick:v,component:he.CARDS,onDeleteButtonClick:C,onUpdateButtonClick:g}),Object(H.jsx)(Ve,{totalItemCount:l,pageCount:d,currentPage:p,onChangePageClick:_,portionSize:10})]}):Object(H.jsx)(H.Fragment,{})}));function Ct(e){return function(t){return Object(u.c)((function(e){return e.login.isLoggedIn}))?Object(H.jsx)(e,Object(p.a)({},t)):Object(H.jsx)(q.a,{to:te.LOGIN})}}var gt=n(24),St=n.n(gt),Pt=n(61),Nt=n.n(Pt),wt=Object(c.memo)((function(e){var t=e.title,n=e.updateTitle,a=Object(c.useState)(!0),r=Object(Z.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(t),u=Object(Z.a)(i,2),l=u[0],d=u[1];return s?Object(H.jsx)("span",{onDoubleClick:function(){o(!1)},className:Nt.a.span,children:l}):Object(H.jsx)(ee,{value:l,onBlur:function(){o(!0),n(l)},autoFocus:!0,onChange:function(e){d(e.currentTarget.value)},className:Nt.a.input,onKeyPress:function(e){"Enter"===e.key&&(o(!0),n(l))}})})),Et=function(e){return le.put("auth/me",e).then((function(e){return e.data.updatedUser}))},yt=function(e,t){return function(){var n=Object(ie.a)(oe.a.mark((function n(a){var r;return oe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(m(b)),n.next=5,Et({name:e,avatar:t});case 5:r=n.sent,a(S(r)),a(m(j)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),me(a,n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},At=Ct((function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.profile.avatar})),n=Object(u.c)((function(e){return e.profile.email})),a=Object(u.c)((function(e){return e.profile.name})),r=Object(u.c)((function(e){return e.profile.publicCardPacksCount})),s=Object(c.useState)(C),o=Object(Z.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(!1),p=Object(Z.a)(d,2),b=p[0],j=p[1],O=Object(c.useCallback)((function(e){l(e.currentTarget.value)}),[]),f=Object(c.useCallback)((function(){j(!1)}),[j]);return Object(H.jsxs)("div",{className:St.a.profileWrapper,children:[Object(H.jsxs)("div",{className:St.a.avatarBlock,children:[Object(H.jsxs)("div",{className:St.a.avatarWrapper,children:[Object(H.jsx)("div",{className:St.a.tooltip,onClick:function(){j(!0)},children:"Change Photo"}),Object(H.jsx)("img",{alt:"avatar",className:St.a.avatar,src:t})]}),b&&Object(H.jsx)("div",{className:St.a.inputForURL,onBlur:f,children:Object(H.jsx)(ee,{className:St.a.input,value:i,onChange:O,onKeyPress:function(t){"Enter"===t.key&&(e(yt(a,i)),j(!1),l(C))},autoFocus:!0,placeholder:"Add URL"})})]}),Object(H.jsxs)("div",{className:St.a.profileInfo,children:[Object(H.jsx)(wt,{title:a,updateTitle:function(t){t!==a&&e(yt(t))}}),Object(H.jsxs)("div",{className:St.a.info,children:[Object(H.jsxs)("span",{children:[Object(H.jsx)("b",{children:"Email"}),": ",n]}),Object(H.jsxs)("span",{children:[Object(H.jsx)("b",{children:"Count of cards"}),": ",r]})]})]})]})})),Tt=n(79),Rt=n.n(Tt),It=n(62),Lt=n.n(It),Dt=n(135),Mt=n(133),Bt=n(63),Ft=n.n(Bt),Wt=function(e,t,n){var a=Object(u.b)();Object(c.useEffect)((function(){console.log("useeffSet");var t=setTimeout((function(){e()}),n);return function(){clearTimeout(t)}}),[a,t,e,n])},Ut=Object(c.memo)((function(e){var t=e.minValueForRangeSlider,n=e.maxValueForRangeSlider,a=e.onChangeCardsCountsChange,r=Object(u.c)((function(e){return e.packs.maxCardsCount})),s=Object(u.c)((function(e){return e.packs.minCardsCount})),o=Object(c.useState)([t,n]),i=Object(Z.a)(o,2),l=i[0],d=i[1];Wt((function(){a(l[0],l[1])}),l,500);return Object(H.jsx)(Dt.a,{sx:{width:"80%"},children:Object(H.jsxs)("div",{className:Ft.a.sliderWrapper,children:[Object(H.jsx)(Mt.a,{value:l,onChange:function(e,t){d(t)},valueLabelDisplay:"auto",max:r}),Object(H.jsxs)("div",{className:Ft.a.sliderValues,children:[Object(H.jsx)("span",{children:s}),Object(H.jsx)("span",{children:r})]})]})})})),Gt=Object(c.memo)((function(e){var t=e.minValueForRangeSlider,n=e.maxValueForRangeSlider,a=Object(u.b)(),r=Object(u.c)((function(e){return e.profile._id})),s=Object(c.useCallback)((function(){a(y(r))}),[a,r]),o=Object(c.useCallback)((function(){a(y(C))}),[a]),i=Object(c.useCallback)((function(e,t){a({type:"PACKS/SET-NEW-MIN-MAX-VALUE",payload:{min:e,max:t}})}),[a]);return Object(H.jsxs)("div",{className:Lt.a.wrapper,children:[Object(H.jsx)("h4",{children:"Show packs cards"}),Object(H.jsxs)("div",{className:Lt.a.btnsWrapper,children:[Object(H.jsx)(V,{onClick:s,children:"My"}),Object(H.jsx)(V,{onClick:o,children:"All"})]}),Object(H.jsx)(Ut,{minValueForRangeSlider:t,maxValueForRangeSlider:n,onChangeCardsCountsChange:i})]})})),Kt=function(e){return e.packs.cardPacks},Ht=function(e){return e.packs.page},Vt=n(64),qt=n.n(Vt),zt=Object(c.memo)((function(e){var t=e.packs,n=e.currentPage,r=e.totalItemCount,s=e.pageCount,o=e.sortPacks,i=e.setModalData,l=Object(u.b)(),d=Object(u.c)((function(e){return e.modals.modalEntity})),p=Object(u.c)((function(e){return e.modals.id})),b=Object(c.useState)(C),j=Object(Z.a)(b,2),O=j[0],f=j[1],m=a.Add,h=a.Delete,x=a.Update,v=a.Learn,_=Object(c.useMemo)((function(){return t.map((function(e){var t=e.cardsCount,n=e.user_name,a=e.name,r=e.updated,c=e.user_id,s=e._id;return{name:a,cardsCount:t,updated:r=qe(r),user_name:n,user_id:c,_id:s}}))}),[t]),k=t.find((function(e){return e._id===p})),g=Object(c.useCallback)((function(){l({type:"PACKS/CHANGE-SEARCH-PACK-NAME",payload:{packName:O}})}),[l,O]);Wt(g,O,2e3);var S=Object(c.useCallback)((function(e){l(function(e){return{type:"PACKS/CHANGE-PAGE",payload:{page:e}}}(e))}),[l]),P=Object(c.useCallback)((function(e){l(function(e){return{type:"PACKS/SET-SORTING-FILTER",payload:{sortPacks:e}}}("0"===o[0]?"1".concat(e):"0".concat(e)))}),[l,o]),N=Object(c.useCallback)((function(){i(m,C)}),[i,m]),w=Object(c.useCallback)((function(e){i(h,e)}),[i,h]),E=Object(c.useCallback)((function(e){i(x,e)}),[i,x]);function y(){return(y=Object(ie.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(dt({cardsPack_id:t,max:100,pageCount:100}));case 2:i(v,t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(H.jsxs)("div",{className:qt.a.listWrapper,"aria-disabled":!0,children:[Object(H.jsx)("h2",{children:"Packs List"}),Object(H.jsxs)("div",{className:qt.a.row,children:[Object(H.jsx)(ee,{style:{width:"60%"},value:O,onChangeText:f,onEnter:g}),Object(H.jsx)(V,{style:{width:"35%"},onClick:N,children:"Add new pack"})]}),d&&Object(H.jsx)(xt,{pack:k}),Object(H.jsx)(Xe,{rows:_,headers:{name:"Name",cardsCount:"Cards",updated:"Last updated",user_name:"Created by",actions:"Actions"},onSetSortingClick:P,component:he.PACKS,onDeleteButtonClick:w,onUpdateButtonClick:E,onLearnPackClick:function(e){return y.apply(this,arguments)}}),Object(H.jsx)(Ve,{totalItemCount:r,pageCount:s,currentPage:n,onChangePageClick:S,portionSize:10})]})})),Qt=Ct(Object(c.memo)((function(e){var t=e.setModalData,n=Object(u.b)(),a=Object(u.c)(Kt),r=Object(u.c)(Ht),s=Object(u.c)((function(e){return e.packs.cardPacksTotalCount})),o=Object(u.c)((function(e){return e.packs.pageCount})),i=Object(u.c)((function(e){return e.packs.min})),l=Object(u.c)((function(e){return e.packs.max})),d=Object(u.c)((function(e){return e.packs.sortPacks})),p=Object(u.c)((function(e){return e.packs.packName})),j=Object(u.c)((function(e){return e.packs.user_id}));return Object(c.useEffect)((function(){n(m(b));var e=setTimeout((function(){n(mt())}),1e3);return function(){clearTimeout(e)}}),[n,r,i,l,j,d,p]),a?Object(H.jsxs)("div",{className:Rt.a.wrapper,children:[Object(H.jsx)(Gt,{minValueForRangeSlider:i,maxValueForRangeSlider:l}),Object(H.jsx)(zt,{packs:a,currentPage:r,totalItemCount:s,pageCount:o,sortPacks:d,setModalData:t})]}):Object(H.jsx)(H.Fragment,{})}))),Zt=n(55),Yt=n.n(Zt),Xt=Object(c.memo)((function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,r=(e.spanClassName,e.children),c=Object(U.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(Yt.a.checkbox," ").concat(a||C);return Object(H.jsxs)("label",{className:Yt.a.labelForCheckBox,children:[Object(H.jsx)("input",Object(p.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),r&&Object(H.jsx)("span",{className:Yt.a.spanClassName,children:r})]})})),Jt=function(){var e=Object(u.b)(),t=Object(W.a)({initialValues:{email:"nastyh1233@gmail.com",password:"dimavolk1",rememberMe:!1},validate:function(e){var t={};return function(e,t){ve(e,t),_e(e,t)}(e,t),t},onSubmit:function(t){var n;e((n=t,function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m(b)),e.next=4,pe(n);case 4:a=e.sent,t(m(j)),t(v(!0)),t(S(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),me(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}}),n=Object(u.c)((function(e){return e.login.isLoggedIn})),a=!(!t.errors.email&&!t.errors.password);return n?Object(H.jsx)(q.a,{to:te.START}):Object(H.jsxs)("div",{className:Q.a.wrapper,children:[Object(H.jsx)("h2",{children:"Welcome"}),Object(H.jsxs)("form",{className:Q.a.form,onSubmit:t.handleSubmit,children:[Object(H.jsxs)("div",{className:Q.a.inputsWrapper,children:[Object(H.jsx)(ce,{validationErr:t.touched.email&&t.errors.email||C,formikProps:t.getFieldProps(ne.EMAIL)}),Object(H.jsx)(ce,{validationErr:t.touched.password&&t.errors.password||C,formikProps:t.getFieldProps(ne.PASSWORD),type:B.PASSWORD,isPassword:!0})]}),Object(H.jsxs)("div",{className:Q.a.row,children:[Object(H.jsx)(Xt,Object(p.a)(Object(p.a)({checked:t.values.rememberMe},t.getFieldProps(ne.REMEMBER_ME)),{},{children:"Remember Me"})),Object(H.jsx)(F.b,{to:te.FORGOT_PASSWORD,children:"Lost Password?"})]}),Object(H.jsx)(V,{className:Q.a.submitBtn,type:ae.SUBMIT,disabled:a,children:"Login"})]}),Object(H.jsx)(F.b,{className:Q.a.registerLink,to:te.REGISTRATION,children:"Register"})]})};var $t=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.app.status})),n=Object(u.c)((function(e){return e.app.isInitialized})),a=Object(u.c)((function(e){return e.app.error})),s=r.Card,o=r.Pack;Object(c.useEffect)((function(){e(function(){var e=Object(ie.a)(oe.a.mark((function e(t){var n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(m(b)),e.next=4,je();case 4:n=e.sent,t(v(!0)),t(S(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(v(!1));case 12:return e.prev=12,t(m(j)),t({type:"APP/INITIALIZE"}),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[0,9,12,16]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(c.useEffect)((function(){a&&setTimeout((function(){e(h(null))}),3e3)}),[a,e]);var i=Object(c.useCallback)((function(t,n,a){e(function(e){return{type:"MODAL/SET-MODAL-PROPS",payload:{id:e}}}(a)),e(L(t,n))}),[e]),l=Object(c.useCallback)((function(e,t){i(e,s,t)}),[i,s]),d=Object(c.useCallback)((function(e,t){i(e,o,t)}),[i,o]);return Object(H.jsxs)("div",{className:De.a.appWrapper,children:[Object(H.jsx)(Ie,{}),Object(H.jsxs)("div",{className:De.a.mainBlock,children:[t===b&&Object(H.jsx)(We,{}),n?Object(H.jsxs)(q.d,{children:[Object(H.jsx)(q.b,{path:te.START,element:Object(H.jsx)(q.a,{to:te.PROFILE})}),Object(H.jsx)(q.b,{path:te.PROFILE,element:Object(H.jsx)(At,{})}),Object(H.jsx)(q.b,{path:te.REGISTRATION,element:Object(H.jsx)(Ce,{})}),Object(H.jsx)(q.b,{path:te.NOT_FOUND,element:Object(H.jsx)(Pe,{})}),Object(H.jsx)(q.b,{path:te.FORGOT_PASSWORD,element:Object(H.jsx)(Ne,{})}),Object(H.jsx)(q.b,{path:te.NEW_PASSWORD,element:Object(H.jsx)(we,{}),children:Object(H.jsx)(q.b,{path:":token",element:Object(H.jsx)(we,{})})}),Object(H.jsx)(q.b,{path:"*",element:Object(H.jsx)(q.a,{to:te.NOT_FOUND})}),Object(H.jsx)(q.b,{path:te.CARDS,element:Object(H.jsx)(kt,{setModalData:l}),children:Object(H.jsx)(q.b,{path:":id",element:Object(H.jsx)(kt,{setModalData:l})})}),Object(H.jsx)(q.b,{path:te.PACKS,element:Object(H.jsx)(Qt,{setModalData:d})}),Object(H.jsx)(q.b,{path:te.LOGIN,element:Object(H.jsx)(Jt,{})})]}):Object(H.jsx)(H.Fragment,{})]}),a&&Object(H.jsx)("div",{className:De.a.err,children:a})]})};o.a.render(Object(H.jsx)(F.a,{children:Object(H.jsx)(u.a,{store:M,children:Object(H.jsx)($t,{})})}),document.getElementById("root")),i()},24:function(e,t,n){e.exports={profileWrapper:"Profile_profileWrapper__3r7Cl",avatarBlock:"Profile_avatarBlock__3Upag",avatarWrapper:"Profile_avatarWrapper__2Zeyo",tooltip:"Profile_tooltip__3XPiP",avatar:"Profile_avatar__UbSor",inputForURL:"Profile_inputForURL__7p2zC",input:"Profile_input__Dnkxg",addPhotoURlBtn:"Profile_addPhotoURlBtn__3kLPu",profileInfo:"Profile_profileInfo__3s99S",info:"Profile_info__1ASM6"}},30:function(e,t,n){e.exports={tableHeader:"UniversalTable_tableHeader__2z-7K",value:"UniversalTable_value__36UJW",cell:"UniversalTable_cell__ZYQ_n",btns:"UniversalTable_btns__2fhB_"}},33:function(e,t,n){e.exports={span:"ModalContainer_span__2yunN",input:"ModalContainer_input__1W0F1"}},35:function(e,t,n){e.exports={modalWrapper:"Modal_modalWrapper__2-u5o",modalBlock:"Modal_modalBlock__1Y2Vy",buttons:"Modal_buttons__3Yymo"}},36:function(e,t,n){e.exports={learnPackModalWrapper:"LearnPackModal_learnPackModalWrapper__wYfI1",answerBlock:"LearnPackModal_answerBlock__1D2sY",btn:"LearnPackModal_btn__2sZSg",answer:"LearnPackModal_answer__3wSb2",buttonsBlock:"LearnPackModal_buttonsBlock__2a7Or"}},38:function(e,t,n){e.exports={inputWrapper:"UniversalInput_inputWrapper__1pOz9",input:"UniversalInput_input__1Lh8z",togglePassBtn:"UniversalInput_togglePassBtn__1McrO",error:"UniversalInput_error__32yEU"}},39:function(e,t,n){e.exports={pageNum:"Pagination_pageNum__1PDjj",activePage:"Pagination_activePage__3rx4d"}},48:function(e,t,n){e.exports={btn:"SuperButton_btn__1J1we",red:"SuperButton_red__3tJ4H"}},49:function(e,t,n){e.exports={input:"SuperInputText_input__3wnaw",superInput:"SuperInputText_superInput__36AEF",errorInput:"SuperInputText_errorInput__26Z7d",error:"SuperInputText_error__32TC9"}},50:function(e,t,n){e.exports={notFoundBackgr:"NotFound_notFoundBackgr__1CIhc",notFoundBlock:"NotFound_notFoundBlock__2FTvu",link:"NotFound_link__2yzft"}},51:function(e,t,n){e.exports={headerBlock:"Header_headerBlock__2aNET",container:"Header_container__3IPHz",logout:"Header_logout__3U8OT"}},52:function(e,t,n){e.exports={appWrapper:"App_appWrapper__rjX5L",mainBlock:"App_mainBlock__3yE-n",err:"App_err__2QqvI"}},53:function(e,t,n){e.exports={wrapper:"Cards_wrapper__2Dyeu",btn:"Cards_btn__xx2rm",cursor:"Cards_cursor__2Ip2Q"}},55:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__2cpqV",spanClassName:"SuperCheckbox_spanClassName__23i5x",labelForCheckBox:"SuperCheckbox_labelForCheckBox__3gJhp"}},60:function(e,t,n){e.exports={navBarContainer:"NavBar_navBarContainer__3_-qn",active:"NavBar_active__PIP3M"}},61:function(e,t,n){e.exports={input:"EditableSpan_input__Mymnz",span:"EditableSpan_span__2ZEtC"}},62:function(e,t,n){e.exports={wrapper:"PacksParams_wrapper__1Q4h2",btnsWrapper:"PacksParams_btnsWrapper__2Whek"}},63:function(e,t,n){e.exports={sliderWrapper:"RangeSlider_sliderWrapper__1bUM7",sliderValues:"RangeSlider_sliderValues__2yCF_"}},64:function(e,t,n){e.exports={listWrapper:"PacksList_listWrapper__22qI3",row:"PacksList_row__ZTozg"}},78:function(e,t,n){e.exports={loading:"Preloader_loading__1UQ_o"}},79:function(e,t,n){e.exports={wrapper:"Packs_wrapper__3pTOf"}},91:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.4c4550c4.chunk.js.map