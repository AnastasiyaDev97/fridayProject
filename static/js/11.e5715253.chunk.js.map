{"version":3,"sources":["pages/Users/Users.module.scss","dal/users/index.ts","pages/Users/index.tsx"],"names":["module","exports","usersAPI","clientAPI","injectEndpoints","endpoints","build","getUsers","query","queryParams","URL","URI","addQuery","url","toString","getUser","useGetUsersQuery","useGetUserQuery","Users","useSearchParams","searchParams","userName","get","page","Number","min","max","sortUsers","pageCount","PAGE_COUNT","usersData","data","isUsersSuccess","isSuccess","isUsersLoading","isLoading","isError","className","style","usersPage","title","usersContainer","users","map","avatar","email","name","publicCardPacksCount","id","_id","userMail","cardsCount","initialAvatar","totalItemCount","usersTotalCount","currentPage"],"mappings":"4FACAA,EAAOC,QAAU,CAAC,UAAY,yBAAyB,MAAQ,qBAAqB,eAAiB,8B,kICU/FC,E,MAAWC,EAAUC,gBAAgB,CACzCC,UAAW,SAACC,GAAkB,MAAM,CAClCC,SAAUD,EAAME,MAAqD,CACnEA,MAAK,SAACC,GACJ,IAAMC,EAAM,IAAIC,IAAI,gBAIpB,OAFAD,EAAIE,SAAS,eAAKH,IAEX,CACLI,IAAKH,EAAII,WAEb,IAEFC,QAAST,EAAME,MAAmD,CAChEA,MAAK,SAACC,GACJ,IAAMC,EAAM,IAAIC,IAAI,eAIpB,OAFAD,EAAIE,SAAS,eAAKH,IAEX,CACLI,IAAKH,EAAII,WAEb,IAEH,IAGYE,EAAsCd,EAAtCc,iB,GAAsCd,EAApBe,gB,MCyBlBC,UArDD,WACZ,MAAuBC,cAAhBC,EAAiC,iBAArB,GAEbC,EAAWD,EAAaE,IAAI,YAC5BC,EAAOC,OAAOJ,EAAaE,IAAI,eAAiB,EAChDG,EAAMD,OAAOJ,EAAaE,IAAI,aAAe,EAC7CI,EAAMF,OAAOJ,EAAaE,IAAI,aAAe,EAC7CK,EAAYP,EAAaE,IAAI,cAAgB,WAEnD,EAKIN,EAAiB,CACnBO,OACAE,MACAC,MACAL,WACAM,YACAC,UAAWC,MAVLC,EAAS,EAAfC,KACWC,EAAc,EAAzBC,UACWC,EAAc,EAAzBC,UACqB,EAArBC,QAUF,OAAIF,EACK,cAAC,IAAS,IAEfF,GAAkBF,EAElB,sBAAKO,UAAWC,IAAMC,UAAU,UAC9B,oBAAIF,UAAWC,IAAME,MAAM,mBAC3B,qBAAKH,UAAWC,IAAMG,eAAe,SAClCX,EAAUY,MAAMC,KACf,YAA6D,IAA1DC,EAAM,EAANA,OAAQC,EAAK,EAALA,MAAOC,EAAI,EAAJA,KAAMC,EAAoB,EAApBA,qBAA2BC,EAAE,EAAPC,IAC5C,OACE,cAAC,IAAY,CACX5B,SAAUyB,EACVI,SAAUL,EACVM,WAAYJ,EACZH,OAAc,OAANA,QAAM,IAANA,IAAUQ,KACbJ,EAGX,MAGJ,cAAC,IAAU,CAACK,eAAgBvB,EAAUwB,gBAAiBC,YAAahC,OAKnE,IACT,C","file":"static/js/11.e5715253.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__PcRdQ\",\"title\":\"Users_title__2CbOb\",\"usersContainer\":\"Users_usersContainer__3C_0g\"};","import URI from 'urijs';\r\n\r\nimport {\r\n  getUserQueryParamsType,\r\n  getUserResponseType,\r\n  getUsersQueryParamsType,\r\n  getUsersResponseType,\r\n} from './types';\r\n\r\nimport { builderType, clientAPI } from 'dal';\r\n\r\nconst usersAPI = clientAPI.injectEndpoints({\r\n  endpoints: (build: builderType) => ({\r\n    getUsers: build.query<getUsersResponseType, getUsersQueryParamsType>({\r\n      query(queryParams) {\r\n        const URL = new URI(`social/users`);\r\n\r\n        URL.addQuery({ ...queryParams });\r\n\r\n        return {\r\n          url: URL.toString(),\r\n        };\r\n      },\r\n    }),\r\n    getUser: build.query<getUserResponseType, getUserQueryParamsType>({\r\n      query(queryParams) {\r\n        const URL = new URI(`social/user`);\r\n\r\n        URL.addQuery({ ...queryParams });\r\n\r\n        return {\r\n          url: URL.toString(),\r\n        };\r\n      },\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetUsersQuery, useGetUserQuery } = usersAPI;\r\n","import { useSearchParams } from 'react-router-dom';\r\n\r\nimport style from './Users.module.scss';\r\n\r\nimport initialAvatar from 'common/assets/images/noavatar.png';\r\nimport { ReturnComponentType } from 'common/types';\r\nimport { Pagination, Preloader, UserListItem } from 'components';\r\nimport { PAGE_COUNT } from 'constants/table';\r\nimport { useGetUsersQuery } from 'dal/users';\r\n\r\nconst Users = (): ReturnComponentType => {\r\n  const [searchParams] = useSearchParams();\r\n\r\n  const userName = searchParams.get('userName');\r\n  const page = Number(searchParams.get('pageusers')) || 1;\r\n  const min = Number(searchParams.get('userMin')) || 0;\r\n  const max = Number(searchParams.get('userMax')) || 0;\r\n  const sortUsers = searchParams.get('sortUsers') || '0created';\r\n\r\n  const {\r\n    data: usersData,\r\n    isSuccess: isUsersSuccess,\r\n    isLoading: isUsersLoading,\r\n    isError: isUsersError,\r\n  } = useGetUsersQuery({\r\n    page,\r\n    min,\r\n    max,\r\n    userName,\r\n    sortUsers,\r\n    pageCount: PAGE_COUNT,\r\n  });\r\n\r\n  if (isUsersLoading) {\r\n    return <Preloader />;\r\n  }\r\n  if (isUsersSuccess && usersData) {\r\n    return (\r\n      <div className={style.usersPage}>\r\n        <h2 className={style.title}>Users</h2>\r\n        <div className={style.usersContainer}>\r\n          {usersData.users.map(\r\n            ({ avatar, email, name, publicCardPacksCount, _id: id }) => {\r\n              return (\r\n                <UserListItem\r\n                  userName={name}\r\n                  userMail={email}\r\n                  cardsCount={publicCardPacksCount}\r\n                  avatar={avatar ?? initialAvatar}\r\n                  key={id}\r\n                />\r\n              );\r\n            },\r\n          )}\r\n        </div>\r\n        <Pagination totalItemCount={usersData.usersTotalCount} currentPage={page} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Users;\r\n"],"sourceRoot":""}