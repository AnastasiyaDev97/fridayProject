(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports={wrapper:"Login_wrapper__1QeDt",form:"Login_form__2Xo5h",inputsWrapper:"Login_inputsWrapper__2Vk9k",row:"Login_row__2Oh6t",registrationBtns:"Login_registrationBtns__1dEYv",submitBtn:"Login_submitBtn__2jSaA",registerLink:"Login_registerLink__3lZqv",sendMailBlock:"Login_sendMailBlock__2O_Nv",sendMailBtn:"Login_sendMailBtn__2MyM-",sendMailMessage:"Login_sendMailMessage__3Tqvp"}},119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(43),c=n.n(r),s=(n(91),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,136)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))}),o=n(4),i=n(56),u=n(74),l=n(5),d="loading",p="succeeded",b="failed",j={status:"idle",isInitialized:!1,error:null},O=function(e){return{type:"APP/SET-STATUS",payload:{status:e}}},f=function(e){return{type:"APP/SET-ERROR",payload:{error:e}}},m={isLoggedIn:!1},h=function(e){return{type:"LOGIN/TOGGLE-IS-AUTH",payload:{isLoggedIn:e}}},x={registerStatus:!1},v=function(e){return{type:"SET-REGISTER-STATUS",payload:{registerStatus:e}}},_="",k={avatar:"https://lh3.googleusercontent.com/DQj-gonAVTlhj5W7_DhBVmX-0P42rfvx8TSp1WfQeZ6iFIon6InIS8M4Nbqy7Ql5ahgEXSiRDiWD88v-bcPYIEAg3Q=w640-h400-e365-rj-sc0x00ffffff",created:_,email:_,isAdmin:!1,name:_,publicCardPacksCount:0,rememberMe:!1,token:_,tokenDeathTime:0,updated:_,verified:!1,__v:0,_id:_},C=function(e){return{type:"SET-PROFILE",payload:{profile:e}}},g={responseInfoForgotPass:_,responseInfoNewPass:_,emailForRecovery:null},S=function(e){return{type:"SET-RESPONSE-INFO-FORGOT-PASS",payload:{responseInfoForgotPass:e}}},P=function(e){return{type:"ADD-EMAIL",payload:{emailForRecovery:e}}},E={page:1,maxCardsCount:0,minCardsCount:0,pageCount:0,min:0,max:100,sortPacks:"0updated",packName:_,user_id:null},N=function(e){return{type:"PACKS/TOGGLE-SHOW-USER-PACKS",payload:{user_id:e}}},A=n(15),w={cards:[{answer:_,question:_,cardsPack_id:_,grade:0,shots:0,user_id:_,created:_,updated:_,_id:_}],cardsTotalCount:0,maxGrade:0,minGrade:0,page:1,pageCount:0,packUserId:_,sortCards:"0updated"},T=function(e,t,n){return{type:"CARDS/SET-CARDS-RATING",_id:e,payload:{grade:t,shots:n}}},y={modalAction:"",modalEntity:"",id:""},R=function(e,t){return{type:"MODAL/SET-MODAL-TYPE",payload:{modalAction:e,modalEntity:t}}},I=Object(i.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":case"APP/SET-ERROR":return Object(l.a)(Object(l.a)({},e),t.payload);case"APP/INITIALIZE":return Object(l.a)(Object(l.a)({},e),{},{isInitialized:!0});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/TOGGLE-IS-AUTH":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-REGISTER-STATUS":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PROFILE":return Object(l.a)(Object(l.a)({},e),t.payload.profile);default:return e}},passRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-RESPONSE-INFO-FORGOT-PASS":case"SET-RESPONSE-INFO-NEW-PASS":case"ADD-EMAIL":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/CHANGE-SEARCH-PACK-NAME":case"PACKS/SET-PACKS":case"PACKS/CHANGE-PAGE":case"SET-RESPONSE-INFO-NEW-PASS":case"PACKS/TOGGLE-SHOW-USER-PACKS":case"PACKS/SET-NEW-MIN-MAX-VALUE":case"PACKS/SET-SORTING-FILTER":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/SET-CARDS":case"CARDS/CHANGE-PAGE":case"CARDS/SET-SORTING-FILTER":return Object(l.a)(Object(l.a)({},e),t.payload);case"CARDS/SET-CARDS-RATING":return Object(l.a)(Object(l.a)({},e),{},{cards:Object(A.a)(e.cards.map((function(e){return e._id===t._id?Object(l.a)(Object(l.a)({},e),t.payload):e})))});default:return e}},modals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL/SET-MODAL-TYPE":case"MODAL/SET-MODAL-PROPS":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}}}),D=Object(i.c)(I,Object(i.a)(u.a));window.store=D;var L,M=n(16),B=n(27),F=n(28),W=n(48),U=n.n(W),G=n(1),K=Object(a.memo)((function(e){var t=e.red,n=e.className,a=Object(F.a)(e,["red","className"]),r="".concat(U.a.btn," ").concat(t?U.a.red:U.a.default," ").concat(n);return Object(G.jsx)("button",Object(l.a)({className:r},a))})),H=n(9),V=n(11),q=n.n(V),z=n(6),Y=n(37),Q=n.n(Y),Z=n(49),X=n.n(Z),J=Object(a.memo)((function(e){var t=e.type,n=e.onChange,a=e.onChangeText,r=e.onKeyPress,c=e.onEnter,s=e.error,i=e.className,u=Object(F.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className"]),d=Object(o.b)(),p="".concat(X.a.input," ").concat(s?X.a.errorInput:X.a.superInput," ").concat(i," ");return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("input",Object(l.a)({type:t,onChange:function(e){n&&n(e),a&&a(e.currentTarget.value),d(f(null))},onKeyPress:function(e){r&&r(e),c&&"Enter"===e.key&&c()},className:p},u))})}));!function(e){e.PASSWORD="password",e.TEXT="text"}(L||(L={}));var $,ee,te,ne,ae=Object(a.memo)((function(e){var t=e.validationErr,n=e.formikProps,r=e.type,c=e.isPassword,s=Object(a.useState)(!1),o=Object(z.a)(s,2),i=o[0],u=o[1],d=!i&&r?L.PASSWORD:L.TEXT;return Object(G.jsxs)("div",{className:Q.a.inputWrapper,children:[Object(G.jsx)(J,Object(l.a)(Object(l.a)({className:Q.a.input,placeholder:n.name},n),{},{type:d})),c&&Object(G.jsx)("span",{className:Q.a.togglePassBtn,onClick:function(){u(!i)}}),Object(G.jsx)("div",{className:Q.a.error,children:t})]})})),re=n(8),ce=n.n(re),se=n(13),oe=n(77),ie=n.n(oe).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),ue=function(e,t){return ie.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},le=function(e){return ie.post("auth/login",e).then((function(e){return e.data}))},de=function(){return ie.delete("auth/me").then((function(e){return e.data}))},pe=function(){return ie.post("auth/me").then((function(e){return e.data}))},be=function(e){var t={email:e,from:"test-front-admin <ai73a@yandex.by>",message:"<div style=\"background-color: lime; padding: 15px\">\npassword recovery link: <a href='http://nastyaz23.github.io/fridayProject/#/new-password/$token$'\x3c!--https://nastyaz23.github.io/fridayProject/#new-password/$token$--\x3e'>\nlink</a></div>"};return ie.post("auth/forgot",t).then((function(e){return e.data}))},je=function(e){return ie.post("auth/set-new-password",e).then((function(e){return e.data}))},Oe=function(e,t){e(f(t.response?t.response.data.error:t)),e(O(b))};!function(e){e.PROFILE="/profile",e.REGISTRATION="/registration",e.NOT_FOUND="/404",e.FORGOT_PASSWORD="/forgot-password",e.NEW_PASSWORD="/new-password",e.CARDS="/cards",e.PACKS="/packs",e.LOGIN="/login",e.START="/"}($||($={})),function(e){e.REMEMBER_ME="rememberMe",e.EMAIL="email",e.PASSWORD="password",e.NAME="name",e.CONFIRM_PASSWORD="confirmPassword"}(ee||(ee={})),function(e){e.SUBMIT="submit",e.BUTTON="button"}(te||(te={})),function(e){e.INVALID_EMAIL="Invalid email address",e.REQUIRED="Required",e.SHORT_PASSWORD="Password must be 8 characters long",e.NEED_NUMBER="Invalid password. Must contain one number",e.NOT_MATCHED="Password not matched"}(ne||(ne={}));var fe,me=/(?=.*[0-9])/,he=function(e,t){e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email=ne.INVALID_EMAIL):t.email=ne.REQUIRED},xe=function(e,t){e.password?e.password.length<8?t.password=ne.SHORT_PASSWORD:me.test(e.password)||(t.password=ne.NEED_NUMBER):t.password=ne.REQUIRED},ve=function(e,t){he(e,t),xe(e,t),function(e,t){e.confirmPassword||(t.confirmPassword=ne.REQUIRED),e.password&&e.confirmPassword&&e.password!==e.confirmPassword&&(t.confirmPassword=ne.NOT_MATCHED)}(e,t)},_e=function(){var e=Object(o.b)(),t=Object(H.g)(),n=Object(o.c)((function(e){return e.register.registerStatus})),r=Object(B.a)({initialValues:{email:_,password:_,confirmPassword:_},validate:function(e){var t={};return ve(e,t),t},onSubmit:function(t){var n,a;e((n=t.email,a=t.password,function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O(d)),e.next=4,ue(n,a);case 4:t(v(!0)),t(O(p)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),Oe(t,e.t0),t(v(!1));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),r.resetForm()}});Object(a.useEffect)((function(){return function(){e(v(!1))}}));var c=Object(a.useCallback)((function(){r.resetForm(),t($.LOGIN)}),[r,t]);return n?Object(G.jsx)(H.a,{to:$.LOGIN}):Object(G.jsxs)("div",{className:q.a.wrapper,children:[Object(G.jsx)("h2",{children:"Sign up"}),Object(G.jsxs)("form",{onSubmit:r.handleSubmit,className:q.a.form,children:[Object(G.jsxs)("div",{className:q.a.inputsWrapper,children:[Object(G.jsx)(ae,{validationErr:r.touched.email&&r.errors.email||_,formikProps:r.getFieldProps(ee.EMAIL)}),Object(G.jsx)(ae,{validationErr:r.touched.password&&r.errors.password||_,formikProps:r.getFieldProps(ee.PASSWORD),type:L.PASSWORD,isPassword:!0}),Object(G.jsx)(ae,{validationErr:r.touched.confirmPassword&&r.errors.confirmPassword||_,formikProps:r.getFieldProps(ee.CONFIRM_PASSWORD),type:L.PASSWORD,isPassword:!0})]}),Object(G.jsx)("div",{className:q.a.row,children:Object(G.jsxs)("div",{className:q.a.registrationBtns,children:[Object(G.jsx)(K,{type:te.BUTTON,onClick:c,children:"Cancel"}),Object(G.jsx)(K,{type:te.SUBMIT,children:"Register"})]})})]})]})},ke=n(50),Ce=n.n(ke),ge=function(){return Object(G.jsx)("div",{className:Ce.a.notFoundBackgr,children:Object(G.jsxs)("div",{className:Ce.a.notFoundBlock,children:[Object(G.jsx)("h2",{children:"Not Found \ud83d\ude14"}),Object(G.jsx)(K,{children:Object(G.jsx)(M.b,{to:$.PROFILE,className:Ce.a.link,children:"Go Back"})})]})})},Se=function(){var e=Object(o.b)(),t=Object(H.g)(),n=Object(o.c)((function(e){return e.passRecovery.emailForRecovery})),r=Object(o.c)((function(e){return e.passRecovery.responseInfoForgotPass})),c=Object(B.a)({initialValues:{email:_},validate:function(e){var t={};return function(e,t){he(e,t)}(e,t),t},onSubmit:function(t){var n;e((n=t.email,function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O(d)),e.next=4,be(n);case 4:a=e.sent,t(P(n)),a.info&&t(S(a.info)),t(O(p)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Oe(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),c.resetForm()}}),s=Object(a.useCallback)((function(){e(S(_)),e(P(_)),t($.LOGIN)}),[e,t]);return Object(G.jsx)("div",{className:q.a.wrapper,children:r?Object(G.jsxs)("div",{className:q.a.sendMailBlock,children:[Object(G.jsx)("h2",{children:"Check email"}),Object(G.jsxs)("div",{className:q.a.sendMailMessage,children:["We've sent an Email with instructions to ",n]}),Object(G.jsx)(K,{className:q.a.sendMailBtn,type:te.BUTTON,onClick:s,children:"Ok"})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h2",{children:"Forgot your password?"}),Object(G.jsxs)("form",{className:q.a.form,onSubmit:function(e){c.handleSubmit(e)},children:[Object(G.jsx)("div",{className:q.a.inputsWrapper,children:Object(G.jsx)(ae,{validationErr:c.touched.email&&c.errors.email||_,formikProps:c.getFieldProps("email")})}),Object(G.jsx)("div",{children:"Enter your email address and we will send you further instructions"}),Object(G.jsx)(K,{className:q.a.submitBtn,type:te.SUBMIT,children:"Send instructions"})]}),Object(G.jsx)("div",{children:"Do you remember your password?"}),Object(G.jsx)(M.b,{className:q.a.registerLink,to:$.LOGIN,children:"Try logging in"})]})})},Pe=function(){var e=Object(o.b)(),t=Object(H.h)().token,n=Object(o.c)((function(e){return e.passRecovery.responseInfoNewPass})),a=Object(B.a)({initialValues:{password:_},validate:function(e){var t={};return function(e,t){xe(e,t)}(e,t),t},onSubmit:function(n){var r,c={password:n.password,resetPasswordToken:t||_};e((r=c,function(){var e=Object(se.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O(d)),e.next=5,je(r);case 5:(n=e.sent).info&&t({type:"SET-RESPONSE-INFO-NEW-PASS",payload:{responseInfoNewPass:n.info}}),t(O(p)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Oe(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),a.resetForm()}});return n?Object(G.jsx)(H.a,{to:$.LOGIN}):Object(G.jsxs)("div",{className:q.a.wrapper,children:[Object(G.jsx)("h2",{children:"Create new password"}),Object(G.jsxs)("form",{className:q.a.form,onSubmit:function(e){a.handleSubmit(e)},children:[Object(G.jsx)("div",{className:q.a.inputsWrapper,children:Object(G.jsx)(ae,{validationErr:a.touched.password&&a.errors.password||_,formikProps:a.getFieldProps(ee.PASSWORD),type:L.PASSWORD,isPassword:!0})}),Object(G.jsx)(K,{className:q.a.submitBtn,type:te.SUBMIT,children:"Create new password"})]})]})},Ee=n(51),Ne=n.n(Ee),Ae=n(60),we=n.n(Ae),Te=function(){var e=function(e){return e.isActive?"".concat(we.a.active):_},t=[{navlinkPath:$.PROFILE,title:"Profile"},{navlinkPath:$.PACKS,title:"Packs List"}];return Object(G.jsx)("div",{className:we.a.navBarContainer,children:t.map((function(t){var n=t.navlinkPath,a=t.title;return Object(G.jsx)(M.b,{to:n,className:e,children:a},a)}))})},ye=Object(a.memo)((function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.login.isLoggedIn}));return Object(G.jsx)("div",{className:Ne.a.headerBlock,children:Object(G.jsxs)("div",{className:Ne.a.container,children:[Object(G.jsx)("h2",{children:"CardsApp"}),t&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Te,{}),Object(G.jsx)("span",{className:Ne.a.logout,onClick:function(){e(function(){var e=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O(d)),e.next=4,de();case 4:t(O(p)),t(h(!1)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Oe(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})]})})})),Re=n(52),Ie=n.n(Re),De=n.p+"static/media/oval.c2cdedba.svg",Le=n(78),Me=n.n(Le),Be=function(){return Object(G.jsx)("img",{src:De,alt:"waiting...",className:Me.a.loading})},Fe=n(53),We=n.n(Fe),Ue=n(38),Ge=n.n(Ue),Ke=Object(a.memo)((function(e){for(var t=e.totalItemCount,n=e.pageCount,r=e.currentPage,c=e.onChangePageClick,s=e.portionSize,o=Object(a.useState)(1),i=Object(z.a)(o,2),u=i[0],l=i[1],d=Math.ceil(t/n),p=Math.ceil(d/s),b=(u-1)*s+1,j=u*s,O={padding:"5px",margin:"0 5px",fontWeight:"bold"},f=u>1,m=[],h=1;h<=d;h++)m.push(h);var x=Object(a.useCallback)((function(){l(u+1)}),[u]),v=Object(a.useCallback)((function(){l(u-1)}),[u]);return Object(G.jsxs)("div",{className:Ge.a.paginator,children:[f&&Object(G.jsx)(K,{style:O,onClick:v,children:"\u2190"}),m.filter((function(e){return e>=b&&e<=j})).map((function(e){var t=e===r?"".concat(Ge.a.pageNum," ").concat(Ge.a.activePage):Ge.a.pageNum;return Object(G.jsx)("span",{className:t,onClick:function(){c(e)},children:e},e)})),p>u&&Object(G.jsx)(K,{style:O,onClick:x,children:"\u2192"})]})})),He=function(e){var t=new Date(e);return"".concat(Ve(t.getDate()),".").concat(Ve(t.getMonth()+1),".").concat(t.getFullYear())},Ve=function(e){return 1===e.toString().length?"0".concat(e):e},qe=n(30),ze=n.n(qe);!function(e){e.PACKS="packs",e.CARDS="cards"}(fe||(fe={}));var Ye,Qe=Object(a.memo)((function(e){var t=e.item,n=e.component,a=e.onDeleteButtonClick,r=e.onUpdateButtonClick,c=e.onLearnPackClick,s=Object(H.g)(),i=Object(o.c)((function(e){return e.profile._id})),u=t.user_id!==i;return Object(G.jsxs)("tr",{onClick:function(){(t.cardsCount>0||t.user_id===i)&&s("/cards/".concat(t._id))},children:[Object.entries(t).map((function(e,t){var n=Object(z.a)(e,2),a=n[0],r=n[1];if("user_id"!==a&&"_id"!==a)return Object(G.jsx)("td",{children:Object(G.jsx)("div",{className:ze.a.cell,children:r})},t)})),Object(G.jsxs)("td",{className:ze.a.btns,children:[Object(G.jsx)(K,{disabled:u,onClick:function(e){e.stopPropagation(),a(t._id)},children:"Delete"}),Object(G.jsx)(K,{disabled:u,onClick:function(e){e.stopPropagation(),r(t._id)},children:"Edit"}),n===fe.PACKS&&Object(G.jsx)(K,{onClick:function(e){e.stopPropagation(),c(t._id)},disabled:0===t.cardsCount,children:"Learn"})]})]})})),Ze=Object(a.memo)((function(e){var t=e.rows,n=e.headers,a=e.onSetSortingClick,r=e.component,c=e.onDeleteButtonClick,s=e.onUpdateButtonClick,o=e.onLearnPackClick,i=Object.entries(n);return Object(G.jsxs)("table",{className:ze.a.table,children:[Object(G.jsx)("thead",{children:Object(G.jsx)("tr",{children:i.map((function(e,t){var n=Object(z.a)(e,2),r=n[0],c=n[1],s="actions"!==r?ze.a.value:_;return Object(G.jsx)("th",{onClick:function(){a(r)},className:ze.a.tableHeader,children:Object(G.jsx)("span",{className:s,children:c})},t)}))})}),Object(G.jsx)("tbody",{children:t.map((function(e){return Object(G.jsx)(Qe,{item:e,component:r,onDeleteButtonClick:c,onUpdateButtonClick:s,onLearnPackClick:o},e._id)}))})]})})),Xe=n(10),Je=n(34),$e=n.n(Je);!function(e){e.LEARN="learn",e.ADD="add",e.DELETE="delete",e.UPDATE="update",e.EMPTY=""}(Ye||(Ye={}));var et,tt=Object(a.memo)((function(e){var t=e.children,n=e.modalBody,a=e.onCloseModalButtonClick,r=e.modalAction,c=e.onNextCardButtonClick,s=e.isActivePrevBtn,o=r===Ye.LEARN&&!s;return n?Object(G.jsx)("div",{className:$e.a.modalWrapper,children:Object(G.jsxs)("div",{className:$e.a.modalBlock,children:[Object(G.jsx)("h3",{children:n.title}),t,Object(G.jsxs)("div",{className:$e.a.buttons,children:[Object(G.jsx)(K,{onClick:n.btn.callback,className:$e.a.btn,disabled:o,children:n.btn.title}),r===Ye.LEARN&&Object(G.jsx)(K,{onClick:c,children:"Next"}),Object(G.jsx)(K,{onClick:a,className:$e.a.btn,children:"Cancel"})]})]})}):null})),nt=n(39),at=n.n(nt),rt=n(35),ct=n.n(rt),st=function(e){return ie.get("cards/card",{params:e}).then((function(e){return e.data}))},ot=function(e){return ie.post("cards/card",e).then((function(e){return e.data}))},it=function(e){return ie.delete("cards/card/?id=".concat(e)).then((function(e){return e.data}))},ut=function(e){return ie.put("cards/card",e).then((function(e){return e.data}))},lt=function(e,t){return ie.put("cards/grade",{grade:e,card_id:t}).then((function(e){return e.data.updatedGrade}))},dt=function(e){return function(){var t=Object(se.a)(ce.a.mark((function t(n){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(O(d)),t.next=4,st(e);case 4:a=t.sent,n({type:"CARDS/SET-CARDS",payload:a}),n(O(p)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Oe(n,t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},pt=Object(a.memo)((function(e){var t=e.answer,n=e.activeCardId,r=e.onNextCardButtonClick,c=Object(o.b)(),s=Object(a.useState)(!1),i=Object(z.a)(s,2),u=i[0],l=i[1],b=u?"Hide":"Show",j=Object(a.useCallback)((function(){l(!u)}),[u]),f=Object(a.useCallback)((function(e){var t,a;c((t=e,a=n,function(){var e=Object(se.a)(ce.a.mark((function e(n){var r,c,s,o;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(O(d)),e.next=4,lt(t,a);case 4:r=e.sent,c=r._id,s=r.grade,o=r.shots,n(T(c,s,o)),n(O(p)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Oe(n,e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}())),r()}),[c,n,r]),m=[{name:"I know",callback:function(){return f(5)}},{name:"I know part of the answer",callback:function(){return f(4)}},{name:"Maybe I know",callback:function(){return f(3)}},{name:"I'm not sure",callback:function(){return f(2)}},{name:"I don't know",callback:function(){return f(1)}}];return Object(G.jsxs)("div",{className:ct.a.learnPackModalWrapper,children:[Object(G.jsxs)("div",{className:ct.a.answerBlock,children:["Answer",Object(G.jsx)(K,{onClick:j,className:ct.a.btn,children:b}),u&&Object(G.jsx)("span",{className:ct.a.answer,children:t})]}),Object(G.jsx)("div",{className:ct.a.buttonsBlock,children:m.map((function(e,t){var n=e.name,a=e.callback;return Object(G.jsx)(K,{onClick:a,children:n},t)}))})]})}));!function(e){e.PACK="pack",e.CARD="card",e.EMPTY=""}(et||(et={}));var bt=function(e){return ie.get("cards/pack",{params:e}).then((function(e){return e.data}))},jt=function(e){return ie.post("cards/pack",e).then((function(e){return e.data}))},Ot=function(e){return ie.delete("cards/pack/?id=".concat(e)).then((function(e){return e.data}))},ft=function(e){return ie.put("cards/pack",e).then((function(e){return e.data}))},mt=function(){return function(){var e=Object(se.a)(ce.a.mark((function e(t,n){var a,r,c,s,o,i,u,l,b;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().packs,r=a.min,c=a.max,s=a.page,o=a.user_id,i=a.sortPacks,u=a.packName,l={min:r,max:c,sortPacks:i,page:s,pageCount:10,user_id:o,packName:u},e.prev=2,e.next=5,bt(l);case 5:b=e.sent,t(O(d)),t({type:"PACKS/SET-PACKS",payload:b}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Oe(t,e.t0);case 13:return e.prev=13,t(O(p)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}()},ht=Object(a.memo)((function(e){var t,n=e.pack,r=Object(o.b)(),c=Object(H.h)().id,s=Object(o.c)((function(e){return e.modals.id})),i=Object(o.c)((function(e){return e.cards.cards})),u=Object(o.c)((function(e){return e.modals.modalAction})),p=Object(o.c)((function(e){return e.modals.modalEntity})),b=i.find((function(e){return e._id===s})),j=b?b.question:_,f=b?b.answer:_,m=n?n.name:_,h=Object(a.useState)(m),x=Object(z.a)(h,2),v=x[0],k=x[1],C=Object(a.useState)(j),g=Object(z.a)(C,2),S=g[0],P=g[1],E=Object(a.useState)(f),N=Object(z.a)(E,2),w=N[0],T=N[1],y=Object(a.useState)(0),I=Object(z.a)(y,2),D=I[0],L=I[1],M=Object(a.useState)(!0),B=Object(z.a)(M,2),W=B[0],U=B[1],K=Object(a.useState)([]),V=Object(z.a)(K,2),q=V[0],Y=V[1],Q=Object(a.useState)(i[0]),Z=Object(z.a)(Q,2),X=Z[0],$=Z[1],ee=X?X.question:_,te=X?X.answer:_,ne=X?X._id:_,ae=q.length-1,re=q.length>0&&D<ae;Object(a.useEffect)((function(){0===D&&U(!1)}),[D]);var oe,ie=Object(a.useCallback)((function(){r(R(Ye.EMPTY,et.EMPTY))}),[r]),ue=Object(a.useCallback)((function(){r(function(e){return function(){var t=Object(se.a)(ce.a.mark((function t(n){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={name:e},n(O(d)),t.next=5,jt({cardsPack:a});case 5:return t.next=7,n(mt());case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Oe(n,t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(v)),ie()}),[r,v,ie]),le=Object(a.useCallback)((function(){r(function(e,t,n){return function(){var a=Object(se.a)(ce.a.mark((function a(r){var c;return ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c={cardsPack_id:e,question:t,answer:n},r(O(d)),a.next=5,ot({card:c});case 5:return a.next=7,r(dt({cardsPack_id:e}));case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),Oe(r,a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(s,S,w)),ie()}),[r,s,S,w,ie]),de=Object(a.useCallback)((function(){var e;r((e=s,function(){var t=Object(se.a)(ce.a.mark((function t(n){return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(O(d)),t.next=4,Ot(e);case 4:return t.next=6,n(mt());case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Oe(n,t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),ie()}),[r,s,ie]),pe=Object(a.useCallback)((function(){c&&r(function(e,t){return function(){var n=Object(se.a)(ce.a.mark((function n(a){return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(O(d)),n.next=4,it(t);case 4:return n.next=6,a(dt({cardsPack_id:e}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Oe(a,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(c,s)),ie()}),[r,c,s,ie]),be=Object(a.useCallback)((function(){var e,t;r((e=s,t=v,function(){var n=Object(se.a)(ce.a.mark((function n(a){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r={_id:e,name:t},a(O(d)),n.next=5,ft({cardsPack:r});case 5:return n.next=7,a(mt());case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Oe(a,n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}())),ie()}),[r,s,v,ie]),je=Object(a.useCallback)((function(){c&&r(function(e,t){var n=t._id,a=Object(F.a)(t,["_id"]);return function(){var t=Object(se.a)(ce.a.mark((function t(r){var c;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=Object(l.a)({_id:n},a),r(O(d)),t.next=5,ut({card:c});case 5:return t.next=7,r(dt({cardsPack_id:e}));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Oe(r,t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(c,{_id:s,question:S,answer:w})),ie()}),[r,c,s,S,w,ie]),fe=Object(a.useCallback)((function(){W||U(!0);var e=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),n=Math.random()*t,a=e.reduce((function(e,t,a){var r=e.sum+(6-t.grade)*(6-t.grade);return{sum:r,id:r<n?a:e.id}}),{sum:0,id:-1});return console.log("test: ",t,n,a),e[a.id+1]}(i);$(e),Y([e].concat(Object(A.a)(q)))}),[i,W,q]),me=Object(a.useCallback)((function(){if(re)return $(q[D]),void L(D+1);U(!1)}),[X,D,q,re]),he=(t={},Object(Xe.a)(t,Ye.ADD,{title:"Add new ".concat(p),btn:{title:"Save",callback:p===et.CARD?le:ue}}),Object(Xe.a)(t,Ye.DELETE,{title:"Delete ".concat(p),btn:{title:"Delete",callback:p===et.PACK?de:pe}}),Object(Xe.a)(t,Ye.UPDATE,{title:"Update ".concat(p),btn:{title:"Update",callback:p===et.PACK?be:je}}),Object(Xe.a)(t,Ye.LEARN,{title:" ".concat(ee),btn:{title:"Prev",callback:me}}),t);u===Ye.ADD&&(oe=he.add),u===Ye.DELETE&&(oe=he.delete),u===Ye.UPDATE&&(oe=he.update),u===Ye.LEARN&&(oe=he.learn);var xe=p===et.CARD&&u!==Ye.DELETE,ve=p===et.PACK&&(u===Ye.ADD||u===Ye.UPDATE);return Object(G.jsxs)(tt,{modalBody:oe,onCloseModalButtonClick:ie,onNextCardButtonClick:fe,modalAction:u,isActivePrevBtn:W,children:[u===Ye.DELETE&&Object(G.jsxs)("span",{className:at.a.span,children:["Do you really want to remove this `&",p,"`?",Object(G.jsx)("br",{}),"All cards will be excluded from this course"]}),ve&&Object(G.jsx)(J,{className:at.a.input,value:v,onChangeText:k,placeholder:"Title"}),xe&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(J,{className:at.a.input,value:S,onChangeText:P,placeholder:"Your question"}),Object(G.jsx)(J,{className:at.a.input,value:w,onChangeText:T,placeholder:"Your answer"})]}),u===Ye.LEARN&&Object(G.jsx)(pt,{answer:te,activeCardId:ne,onNextCardButtonClick:fe})]})})),xt=Object(a.memo)((function(e){for(var t=e.grade,n=[],a=0;a<5;a++)n=[].concat(Object(A.a)(n),[Object(G.jsx)(vt,{selected:t>a})]);return Object(G.jsx)("div",{children:n})})),vt=Object(a.memo)((function(e){var t=e.selected;return Object(G.jsx)("span",{children:t?Object(G.jsx)("b",{children:"Star "}):"Star "})})),_t=Object(a.memo)((function(e){var t=e.setModalData,n=Object(o.b)(),r=Object(H.h)().id,c=Object(H.g)(),s=Object(o.c)((function(e){return e.cards.cards})),i=Object(o.c)((function(e){return e.cards.sortCards})),u=Object(o.c)((function(e){return e.cards.cardsTotalCount})),l=Object(o.c)((function(e){return e.cards.pageCount})),p=Object(o.c)((function(e){return e.cards.page})),b=Object(o.c)((function(e){return e.modals.modalEntity})),j=Object(a.useMemo)((function(){return s.map((function(e){var t=e.question,n=e.answer,a=e.updated,r=e.grade,c=e._id,s=e.user_id;return{question:t,answer:n,updated:a=He(a),rating:Object(G.jsx)(xt,{grade:r}),_id:c,user_id:s}}))}),[s]);Object(a.useEffect)((function(){n(O(d));var e=setTimeout((function(){r&&n(dt({cardsPack_id:r,page:p,sortCards:i}))}),1e3);return function(){clearTimeout(e)}}),[n,p,i]);var f=Object(a.useCallback)((function(e){n(function(e){return{type:"CARDS/SET-SORTING-FILTER",payload:{sortCards:e}}}("0"===i[0]?"1".concat(e):"0".concat(e)))}),[n,i]),m=Object(a.useCallback)((function(e){n(function(e){return{type:"CARDS/CHANGE-PAGE",payload:{page:e}}}(e))}),[n]),h=Object(a.useCallback)((function(){r&&t(Ye.ADD,r)}),[t,r]),x=Object(a.useCallback)((function(e){t(Ye.DELETE,e)}),[t]),v=Object(a.useCallback)((function(e){t(Ye.UPDATE,e)}),[t]);return s?Object(G.jsxs)("div",{className:We.a.wrapper,children:[Object(G.jsx)("h2",{onClick:function(){c(-1)},className:We.a.cursor,children:"\u2190 Pack Name"}),Object(G.jsx)(K,{onClick:h,className:We.a.btn,children:"Add new card"}),b&&Object(G.jsx)(ht,{}),Object(G.jsx)(Ze,{rows:j,headers:{question:"Question",answer:"Answer",updated:"Last updated",grade:"Grade",actions:"Actions"},onSetSortingClick:f,component:fe.CARDS,onDeleteButtonClick:x,onUpdateButtonClick:v}),Object(G.jsx)(Ke,{totalItemCount:u,pageCount:l,currentPage:p,onChangePageClick:m,portionSize:10})]}):Object(G.jsx)(G.Fragment,{})}));function kt(e){return function(t){return Object(o.c)((function(e){return e.login.isLoggedIn}))?Object(G.jsx)(e,Object(l.a)({},t)):Object(G.jsx)(H.a,{to:$.LOGIN})}}var Ct=n(23),gt=n.n(Ct),St=n(61),Pt=n.n(St),Et=Object(a.memo)((function(e){var t=e.title,n=e.updateTitle,r=Object(a.useState)(!0),c=Object(z.a)(r,2),s=c[0],o=c[1],i=Object(a.useState)(t),u=Object(z.a)(i,2),l=u[0],d=u[1];return s?Object(G.jsx)("span",{onDoubleClick:function(){o(!1)},className:Pt.a.span,children:l}):Object(G.jsx)(J,{value:l,onBlur:function(){o(!0),n(l)},autoFocus:!0,onChange:function(e){d(e.currentTarget.value)},className:Pt.a.input,onKeyPress:function(e){"Enter"===e.key&&(o(!0),n(l))}})})),Nt=function(e){return ie.put("auth/me",e).then((function(e){return e.data.updatedUser}))},At=function(e,t){return function(){var n=Object(se.a)(ce.a.mark((function n(a){var r;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(O(d)),n.next=4,Nt({name:e,avatar:t});case 4:r=n.sent,a(C(r)),a(O(p)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Oe(a,n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},wt=kt((function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.profile.avatar})),n=Object(o.c)((function(e){return e.profile.email})),r=Object(o.c)((function(e){return e.profile.name})),c=Object(o.c)((function(e){return e.profile.publicCardPacksCount})),s=Object(a.useState)(_),i=Object(z.a)(s,2),u=i[0],l=i[1],d=Object(a.useState)(!1),p=Object(z.a)(d,2),b=p[0],j=p[1],O=Object(a.useCallback)((function(e){l(e.currentTarget.value)}),[]),f=Object(a.useCallback)((function(){e(At(r,u)),j(!1),l(_)}),[e,r,u]),m=Object(a.useCallback)((function(e){"Enter"===e.key&&f()}),[f]),h=Object(a.useCallback)((function(){j(!1)}),[j]);return Object(G.jsxs)("div",{className:gt.a.profileWrapper,children:[Object(G.jsxs)("div",{className:gt.a.avatarBlock,children:[Object(G.jsxs)("div",{className:gt.a.avatarWrapper,children:[Object(G.jsx)("div",{className:gt.a.tooltip,onClick:function(){j(!0)},children:"Change Photo"}),Object(G.jsx)("img",{alt:"avatar",className:gt.a.avatar,src:t})]}),b&&Object(G.jsxs)("div",{className:gt.a.inputForURL,children:[Object(G.jsx)(J,{className:gt.a.input,value:u,onChange:O,onKeyPress:m,autoFocus:!0,placeholder:"Add URL",onBlur:h}),Object(G.jsx)("span",{className:gt.a.addPhotoURlBtn,onClick:f})]})]}),Object(G.jsxs)("div",{className:gt.a.profileInfo,children:[Object(G.jsx)(Et,{title:r,updateTitle:function(t){t!==r&&e(At(t,u))}}),Object(G.jsxs)("div",{className:gt.a.info,children:[Object(G.jsxs)("span",{children:[Object(G.jsx)("b",{children:"Email"}),": ",n]}),Object(G.jsxs)("span",{children:[Object(G.jsx)("b",{children:"Count of cards"}),": ",c]})]})]})]})})),Tt=n(79),yt=n.n(Tt),Rt=n(62),It=n.n(Rt),Dt=n(135),Lt=n(133),Mt=n(63),Bt=n.n(Mt),Ft=function(e,t,n){var r=Object(o.b)();Object(a.useEffect)((function(){console.log("useeffSet");var t=setTimeout((function(){e()}),n);return function(){clearTimeout(t)}}),[r,t])},Wt=Object(a.memo)((function(e){var t=e.minValueForRangeSlider,n=e.maxValueForRangeSlider,r=e.onChangeCardsCountsChange,c=Object(o.c)((function(e){return e.packs.maxCardsCount})),s=Object(o.c)((function(e){return e.packs.minCardsCount})),i=Object(a.useState)([t,n]),u=Object(z.a)(i,2),l=u[0],d=u[1];Ft((function(){r(l[0],l[1])}),l,500);return Object(G.jsx)(Dt.a,{sx:{width:"80%"},children:Object(G.jsxs)("div",{className:Bt.a.sliderWrapper,children:[Object(G.jsx)(Lt.a,{value:l,onChange:function(e,t){d(t)},valueLabelDisplay:"auto",max:c}),Object(G.jsxs)("div",{className:Bt.a.sliderValues,children:[Object(G.jsx)("span",{children:s}),Object(G.jsx)("span",{children:c})]})]})})})),Ut=Object(a.memo)((function(e){var t=e.minValueForRangeSlider,n=e.maxValueForRangeSlider,r=Object(o.b)(),c=Object(o.c)((function(e){return e.profile._id})),s=Object(a.useCallback)((function(){r(N(c))}),[r,c]),i=Object(a.useCallback)((function(){r(N(_))}),[r]),u=Object(a.useCallback)((function(e,t){r({type:"PACKS/SET-NEW-MIN-MAX-VALUE",payload:{min:e,max:t}})}),[r]);return Object(G.jsxs)("div",{className:It.a.wrapper,children:[Object(G.jsx)("h4",{children:"Show packs cards"}),Object(G.jsxs)("div",{className:It.a.btnsWrapper,children:[Object(G.jsx)(K,{onClick:s,children:"My"}),Object(G.jsx)(K,{onClick:i,children:"All"})]}),Object(G.jsx)(Wt,{minValueForRangeSlider:t,maxValueForRangeSlider:n,onChangeCardsCountsChange:u})]})})),Gt=function(e){return e.packs.cardPacks},Kt=function(e){return e.packs.page},Ht=n(64),Vt=n.n(Ht),qt=Object(a.memo)((function(e){var t=e.packs,n=e.currentPage,r=e.totalItemCount,c=e.pageCount,s=e.sortPacks,i=e.setModalData,u=Object(o.b)(),l=Object(o.c)((function(e){return e.modals.modalEntity})),d=Object(o.c)((function(e){return e.modals.id})),p=Object(a.useState)(_),b=Object(z.a)(p,2),j=b[0],O=b[1],f=Object(a.useMemo)((function(){return t.map((function(e){var t=e.cardsCount,n=e.user_name,a=e.name,r=e.updated,c=e.user_id,s=e._id;return{name:a,cardsCount:t,updated:r=He(r),user_name:n,user_id:c,_id:s}}))}),[t]),m=t.find((function(e){return e._id===d})),h=Object(a.useCallback)((function(){u({type:"PACKS/CHANGE-SEARCH-PACK-NAME",payload:{packName:j}})}),[u,j]);Ft(h,j,2e3);var x=Object(a.useCallback)((function(e){u(function(e){return{type:"PACKS/CHANGE-PAGE",payload:{page:e}}}(e))}),[u]),v=Object(a.useCallback)((function(e){u(function(e){return{type:"PACKS/SET-SORTING-FILTER",payload:{sortPacks:e}}}("0"===s[0]?"1".concat(e):"0".concat(e)))}),[u,s]),k=Object(a.useCallback)((function(){i(Ye.ADD,_)}),[i]),C=Object(a.useCallback)((function(e){i(Ye.DELETE,e)}),[i]),g=Object(a.useCallback)((function(e){i(Ye.UPDATE,e)}),[i]);function S(){return(S=Object(se.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(dt({cardsPack_id:t,max:100,pageCount:100}));case 2:i(Ye.LEARN,t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(G.jsxs)("div",{className:Vt.a.listWrapper,"aria-disabled":!0,children:[Object(G.jsx)("h2",{children:"Packs List"}),Object(G.jsxs)("div",{className:Vt.a.row,children:[Object(G.jsx)(J,{style:{width:"60%"},value:j,onChangeText:O,onEnter:h}),Object(G.jsx)(K,{style:{width:"35%"},onClick:k,children:"Add new pack"})]}),l&&Object(G.jsx)(ht,{pack:m}),Object(G.jsx)(Ze,{rows:f,headers:{name:"Name",cardsCount:"Cards",updated:"Last updated",user_name:"Created by",actions:"Actions"},onSetSortingClick:v,component:fe.PACKS,onDeleteButtonClick:C,onUpdateButtonClick:g,onLearnPackClick:function(e){return S.apply(this,arguments)}}),Object(G.jsx)(Ke,{totalItemCount:r,pageCount:c,currentPage:n,onChangePageClick:x,portionSize:10})]})})),zt=kt(Object(a.memo)((function(e){var t=e.setModalData,n=Object(o.b)(),r=Object(o.c)(Gt),c=Object(o.c)(Kt),s=Object(o.c)((function(e){return e.packs.cardPacksTotalCount})),i=Object(o.c)((function(e){return e.packs.pageCount})),u=Object(o.c)((function(e){return e.packs.min})),l=Object(o.c)((function(e){return e.packs.max})),p=Object(o.c)((function(e){return e.packs.sortPacks})),b=Object(o.c)((function(e){return e.packs.packName})),j=Object(o.c)((function(e){return e.packs.user_id}));return Object(a.useEffect)((function(){n(O(d));var e=setTimeout((function(){n(mt())}),1e3);return function(){clearTimeout(e)}}),[n,c,u,l,j,p,b]),r?Object(G.jsxs)("div",{className:yt.a.wrapper,children:[Object(G.jsx)(Ut,{minValueForRangeSlider:u,maxValueForRangeSlider:l}),Object(G.jsx)(qt,{packs:r,currentPage:c,totalItemCount:s,pageCount:i,sortPacks:p,setModalData:t})]}):Object(G.jsx)(G.Fragment,{})}))),Yt=n(55),Qt=n.n(Yt),Zt=Object(a.memo)((function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,r=(e.spanClassName,e.children),c=Object(F.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(Qt.a.checkbox," ").concat(a||_);return Object(G.jsxs)("label",{className:Qt.a.labelForCheckBox,children:[Object(G.jsx)("input",Object(l.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:s},c)),r&&Object(G.jsx)("span",{className:Qt.a.spanClassName,children:r})]})})),Xt=function(){var e=Object(o.b)(),t=Object(B.a)({initialValues:{email:_,password:_,rememberMe:!1},validate:function(e){var t={};return function(e,t){he(e,t),xe(e,t)}(e,t),t},onSubmit:function(t){var n;e((n=t,function(){var e=Object(se.a)(ce.a.mark((function e(t){var a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O(d)),e.next=4,le(n);case 4:a=e.sent,t(O(p)),t(h(!0)),t(C(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Oe(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}}),n=Object(o.c)((function(e){return e.login.isLoggedIn})),a=!(!t.errors.email&&!t.errors.password);return n?Object(G.jsx)(H.a,{to:$.START}):Object(G.jsxs)("div",{className:q.a.wrapper,children:[Object(G.jsx)("h2",{children:"Welcome"}),Object(G.jsxs)("form",{className:q.a.form,onSubmit:t.handleSubmit,children:[Object(G.jsxs)("div",{className:q.a.inputsWrapper,children:[Object(G.jsx)(ae,{validationErr:t.touched.email&&t.errors.email||_,formikProps:t.getFieldProps(ee.EMAIL)}),Object(G.jsx)(ae,{validationErr:t.touched.password&&t.errors.password||_,formikProps:t.getFieldProps(ee.PASSWORD),type:L.PASSWORD,isPassword:!0})]}),Object(G.jsxs)("div",{className:q.a.row,children:[Object(G.jsx)(Zt,Object(l.a)(Object(l.a)({checked:t.values.rememberMe},t.getFieldProps(ee.REMEMBER_ME)),{},{children:"Remember Me"})),Object(G.jsx)(M.b,{to:$.FORGOT_PASSWORD,children:"Lost Password?"})]}),Object(G.jsx)(K,{className:q.a.submitBtn,type:te.SUBMIT,disabled:a,children:"Login"})]}),Object(G.jsx)(M.b,{className:q.a.registerLink,to:$.REGISTRATION,children:"Register"})]})};var Jt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.app.status})),n=Object(o.c)((function(e){return e.app.isInitialized})),r=Object(o.c)((function(e){return e.app.error}));Object(a.useEffect)((function(){e(function(){var e=Object(se.a)(ce.a.mark((function e(t){var n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(O(d)),e.next=4,pe();case 4:n=e.sent,t(h(!0)),t(C(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(h(!1));case 12:return e.prev=12,t(O(p)),t({type:"APP/INITIALIZE"}),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[0,9,12,16]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(a.useEffect)((function(){r&&setTimeout((function(){e(f(null))}),3e3)}),[r,e]);var c=Object(a.useCallback)((function(t,n,a){e(function(e){return{type:"MODAL/SET-MODAL-PROPS",payload:{id:e}}}(a)),e(R(t,n))}),[e]),s=Object(a.useCallback)((function(e,t){c(e,et.CARD,t)}),[c]),i=Object(a.useCallback)((function(e,t){c(e,et.PACK,t)}),[c]);return Object(G.jsxs)("div",{className:Ie.a.appWrapper,children:[Object(G.jsx)(ye,{}),Object(G.jsxs)("div",{className:Ie.a.mainBlock,children:[t===d&&Object(G.jsx)(Be,{}),n?Object(G.jsxs)(H.d,{children:[Object(G.jsx)(H.b,{path:$.START,element:Object(G.jsx)(H.a,{to:$.PROFILE})}),Object(G.jsx)(H.b,{path:$.PROFILE,element:Object(G.jsx)(wt,{})}),Object(G.jsx)(H.b,{path:$.REGISTRATION,element:Object(G.jsx)(_e,{})}),Object(G.jsx)(H.b,{path:$.NOT_FOUND,element:Object(G.jsx)(ge,{})}),Object(G.jsx)(H.b,{path:$.FORGOT_PASSWORD,element:Object(G.jsx)(Se,{})}),Object(G.jsx)(H.b,{path:$.NEW_PASSWORD,element:Object(G.jsx)(Pe,{}),children:Object(G.jsx)(H.b,{path:":token",element:Object(G.jsx)(Pe,{})})}),Object(G.jsx)(H.b,{path:"*",element:Object(G.jsx)(H.a,{to:$.NOT_FOUND})}),Object(G.jsx)(H.b,{path:$.CARDS,element:Object(G.jsx)(_t,{setModalData:s}),children:Object(G.jsx)(H.b,{path:":id",element:Object(G.jsx)(_t,{setModalData:s})})}),Object(G.jsx)(H.b,{path:$.PACKS,element:Object(G.jsx)(zt,{setModalData:i})}),Object(G.jsx)(H.b,{path:$.LOGIN,element:Object(G.jsx)(Xt,{})})]}):Object(G.jsx)(G.Fragment,{})]}),r&&Object(G.jsx)("div",{className:Ie.a.err,children:r})]})};c.a.render(Object(G.jsx)(M.a,{children:Object(G.jsx)(o.a,{store:D,children:Object(G.jsx)(Jt,{})})}),document.getElementById("root")),s()},23:function(e,t,n){e.exports={profileWrapper:"Profile_profileWrapper__3r7Cl",avatarBlock:"Profile_avatarBlock__3Upag",avatarWrapper:"Profile_avatarWrapper__2Zeyo",tooltip:"Profile_tooltip__3XPiP",avatar:"Profile_avatar__UbSor",inputForURL:"Profile_inputForURL__7p2zC",input:"Profile_input__Dnkxg",addPhotoURlBtn:"Profile_addPhotoURlBtn__3kLPu",profileInfo:"Profile_profileInfo__3s99S",info:"Profile_info__1ASM6"}},30:function(e,t,n){e.exports={tableHeader:"UniversalTable_tableHeader__2z-7K",value:"UniversalTable_value__36UJW",cell:"UniversalTable_cell__ZYQ_n",btns:"UniversalTable_btns__2fhB_"}},34:function(e,t,n){e.exports={modalWrapper:"Modal_modalWrapper__2-u5o",modalBlock:"Modal_modalBlock__1Y2Vy",buttons:"Modal_buttons__3Yymo"}},35:function(e,t,n){e.exports={learnPackModalWrapper:"LearnPackModal_learnPackModalWrapper__wYfI1",answerBlock:"LearnPackModal_answerBlock__1D2sY",btn:"LearnPackModal_btn__2sZSg",answer:"LearnPackModal_answer__3wSb2",buttonsBlock:"LearnPackModal_buttonsBlock__2a7Or"}},37:function(e,t,n){e.exports={inputWrapper:"UniversalInput_inputWrapper__1pOz9",input:"UniversalInput_input__1Lh8z",togglePassBtn:"UniversalInput_togglePassBtn__1McrO",error:"UniversalInput_error__32yEU"}},38:function(e,t,n){e.exports={pageNum:"Pagination_pageNum__1PDjj",activePage:"Pagination_activePage__3rx4d"}},39:function(e,t,n){e.exports={span:"ModalContainer_span__2yunN",input:"ModalContainer_input__1W0F1"}},48:function(e,t,n){e.exports={btn:"SuperButton_btn__1J1we",red:"SuperButton_red__3tJ4H"}},49:function(e,t,n){e.exports={input:"SuperInputText_input__3wnaw",superInput:"SuperInputText_superInput__36AEF",errorInput:"SuperInputText_errorInput__26Z7d",error:"SuperInputText_error__32TC9"}},50:function(e,t,n){e.exports={notFoundBackgr:"NotFound_notFoundBackgr__1CIhc",notFoundBlock:"NotFound_notFoundBlock__2FTvu",link:"NotFound_link__2yzft"}},51:function(e,t,n){e.exports={headerBlock:"Header_headerBlock__2aNET",container:"Header_container__3IPHz",logout:"Header_logout__3U8OT"}},52:function(e,t,n){e.exports={appWrapper:"App_appWrapper__rjX5L",mainBlock:"App_mainBlock__3yE-n",err:"App_err__2QqvI"}},53:function(e,t,n){e.exports={wrapper:"Cards_wrapper__2Dyeu",btn:"Cards_btn__xx2rm",cursor:"Cards_cursor__2Ip2Q"}},55:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__2cpqV",spanClassName:"SuperCheckbox_spanClassName__23i5x",labelForCheckBox:"SuperCheckbox_labelForCheckBox__3gJhp"}},60:function(e,t,n){e.exports={navBarContainer:"NavBar_navBarContainer__3_-qn",active:"NavBar_active__PIP3M"}},61:function(e,t,n){e.exports={input:"EditableSpan_input__Mymnz",span:"EditableSpan_span__2ZEtC"}},62:function(e,t,n){e.exports={wrapper:"PacksParams_wrapper__1Q4h2",btnsWrapper:"PacksParams_btnsWrapper__2Whek"}},63:function(e,t,n){e.exports={sliderWrapper:"RangeSlider_sliderWrapper__1bUM7",sliderValues:"RangeSlider_sliderValues__2yCF_"}},64:function(e,t,n){e.exports={listWrapper:"PacksList_listWrapper__22qI3",row:"PacksList_row__ZTozg"}},78:function(e,t,n){e.exports={loading:"Preloader_loading__1UQ_o"}},79:function(e,t,n){e.exports={wrapper:"Packs_wrapper__3pTOf"}},91:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.1483d1e4.chunk.js.map