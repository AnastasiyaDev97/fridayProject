(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[13],{289:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(0),i=a(140),u=a(23),c=a.n(u),o=a(33).a.injectEndpoints({endpoints:function(e){return{updateProfile:e.mutation({query:function(e){return{url:new c.a("auth/me").toString(),method:"PUT",body:e}}})}},overrideExisting:!1}).useUpdateProfileMutation,l=a(25),b=a(62),f=a(1);t.default=function(){var e=Object(l.b)(),t=o(),a=Object(n.a)(t,2),u=a[0],c=a[1],p=c.data,s=c.isError,d=Object(l.c)((function(e){return e.profile.email})),j=Object(l.c)((function(e){return e.profile.avatar})),O=Object(l.c)((function(e){return e.profile.name})),m=Object(l.c)((function(e){return e.profile.publicCardPacksCount})),C=Object(r.useMemo)((function(){return{email:d,avatar:j,name:O,publicCardPacksCount:m}}),[d,j,O,m]),h=Object(r.useCallback)((function(e){e!==j&&u({avatar:e})}),[u,j]),v=Object(r.useCallback)((function(e){e!==O&&u({name:e})}),[u,O]);return Object(r.useEffect)((function(){p&&e(Object(b.d)(p.updatedUser)),s&&e(Object(b.a)({errorText:"Profile failed to update"}))}),[p,e,s]),C?Object(f.jsx)(i.i,{profileData:C,nameChildren:Object(f.jsx)(i.a,{title:O,updateTitle:v}),avatarChildren:Object(f.jsx)(i.b,{updateImage:h,image:j})}):null}}}]);
//# sourceMappingURL=13.24ff6bb7.chunk.js.map