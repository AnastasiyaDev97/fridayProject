"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[321],{1964:function(e,r,t){t.d(r,{w:function(){return o}});var n=t(2791),a=t(4299),i=t(4456),u=t(7931),o=function(e){var r=e.isLoading,t=e.isSuccess,o=e.isError,s=e.errorText,c=(0,i.TL)();(0,n.useEffect)((function(){r&&c((0,u.Wf)({status:a.Q.LOADING})),t&&c((0,u.Wf)({status:a.Q.SUCCEEDED})),o&&(c((0,u.Wf)({status:a.Q.FAILED})),c((0,u.K8)({errorText:s||"Something went wrong"})))}),[c,r,t,o,s])}},321:function(e,r,t){t.r(r),t.d(r,{default:function(){return v}});var n=t(9439),a=t(2791),i=t(7047),u="Profile_title__AcshT",o="Profile_wrapper__mhQMa",s="Profile_circularSkeleton__vpSqr",c=t(5992),f=t(9056),l=t(4338),d=t.n(l),p=t(9802).e.injectEndpoints({endpoints:function(e){return{updateProfile:e.mutation({query:function(e){return{url:new(d())("auth/me").toString(),method:"PUT",body:e}}})}},overrideExisting:!1}).useUpdateProfileMutation,m=t(1964),C=t(4456),h=t(7931),P=t(184),v=function(){var e=(0,C.TL)(),r=p(),t=(0,n.Z)(r,2),l=t[0],d=t[1],v=d.data,_=d.isError,E=d.isLoading,g=d.isSuccess,x=(0,C.CG)((function(e){return e.profile.email})),k=(0,C.CG)((function(e){return e.profile.avatar})),S=(0,C.CG)((function(e){return e.profile.name})),w=(0,C.CG)((function(e){return e.profile.publicCardPacksCount})),T=(0,a.useMemo)((function(){return{email:x,avatar:k,name:S,publicCardPacksCount:w}}),[x,k,S,w]),b=(0,a.useCallback)((function(e){e!==k&&l({avatar:e})}),[l,k]),j=(0,a.useCallback)((function(e){e!==S&&l({name:e})}),[l,S]);return(0,a.useEffect)((function(){v&&e((0,h._J)(v.updatedUser))}),[v,e,_]),(0,m.w)({isLoading:E,isSuccess:g,isError:_,errorText:"Profile failed to update"}),T?(0,P.jsxs)("div",{className:o,children:[(0,P.jsx)("h2",{className:u,children:"Profile Page"}),(0,P.jsx)(f.PP,{profileData:T,nameChildren:(0,P.jsx)(f.m1,{title:S,updateTitle:j}),avatarChildren:E?(0,P.jsx)(i.Z,{variant:"circular",className:s}):(0,P.jsx)(f.S2,{updateImage:b,image:k||c})})]}):null}}}]);
//# sourceMappingURL=321.68137b92.chunk.js.map